(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{652:function(v,_,t){v.exports=t.p+"assets/img/image-20210823102339892.c1d63ea2.png"},653:function(v,_,t){v.exports=t.p+"assets/img/image-20210823160053236.410ada84.png"},654:function(v,_,t){v.exports=t.p+"assets/img/image-20210823160628158.90a56e63.png"},655:function(v,_,t){v.exports=t.p+"assets/img/image-20210823163723368.a4ed58fd.png"},656:function(v,_,t){v.exports=t.p+"assets/img/image-20210824184902348.b3a392e3.png"},657:function(v,_,t){v.exports=t.p+"assets/img/image-20210824201702727.66013c1a.png"},658:function(v,_,t){v.exports=t.p+"assets/img/image-20210824203202804.414891e1.png"},659:function(v,_,t){v.exports=t.p+"assets/img/image-20210824204948186.a9fb0086.png"},660:function(v,_,t){v.exports=t.p+"assets/img/image-20210824211848593.6a234b5e.png"},661:function(v,_,t){v.exports=t.p+"assets/img/image-20210824214822526.5173f19e.png"},662:function(v,_,t){v.exports=t.p+"assets/img/image-20210824222028030.9bff98ae.png"},663:function(v,_,t){v.exports=t.p+"assets/img/image-20210824224022117.e1ceb4ec.png"},664:function(v,_,t){v.exports=t.p+"assets/img/image-20210824225033953.84068106.png"},665:function(v,_,t){v.exports=t.p+"assets/img/image-20210824230445269.4dd4226b.png"},666:function(v,_,t){v.exports=t.p+"assets/img/image-20210824225829007.291fa1c3.png"},667:function(v,_,t){v.exports=t.p+"assets/img/image-20210901203323264.49a20cc9.png"},668:function(v,_,t){v.exports=t.p+"assets/img/image-20210901210329179.24a73f1d.png"},669:function(v,_,t){v.exports=t.p+"assets/img/image-20210903165840474.2a5c148d.png"},670:function(v,_,t){v.exports=t.p+"assets/img/image-20210903173531935.fdd4a38f.png"},671:function(v,_,t){v.exports=t.p+"assets/img/image-20210903174234225.f272501a.png"},672:function(v,_,t){v.exports=t.p+"assets/img/image-20210903175819012.8f59ec2e.png"},673:function(v,_,t){v.exports=t.p+"assets/img/image-20210903180249590.16a989cb.png"},674:function(v,_,t){v.exports=t.p+"assets/img/image-20210903181003766.0dd13c5e.png"},675:function(v,_,t){v.exports=t.p+"assets/img/image-20210903212544543.81a518e3.png"},676:function(v,_,t){v.exports=t.p+"assets/img/image-20210903212709647.7ca92de4.png"},677:function(v,_,t){v.exports=t.p+"assets/img/image-20210903212834027.b66bd34b.png"},678:function(v,_,t){v.exports=t.p+"assets/img/image-20210904161624303.2f20e02b.png"},679:function(v,_,t){v.exports=t.p+"assets/img/image-20210904192857222.0990c0db.png"},680:function(v,_,t){v.exports=t.p+"assets/img/image-20210904200257231.4eeeca83.png"},681:function(v,_,t){v.exports=t.p+"assets/img/image-20210904210833361.27216ee6.png"},682:function(v,_,t){v.exports=t.p+"assets/img/image-20210904210952837.bfd0e940.png"},683:function(v,_,t){v.exports=t.p+"assets/img/image-20210904211137381.87e2c37c.png"},684:function(v,_,t){v.exports=t.p+"assets/img/image-20210904211717199.58331e8d.png"},685:function(v,_,t){v.exports=t.p+"assets/img/image-20210904214151443.18851566.png"},686:function(v,_,t){v.exports=t.p+"assets/img/image-20210905095837597.c4d951b1.png"},687:function(v,_,t){v.exports=t.p+"assets/img/image-20210905101453698.1173ba8a.png"},688:function(v,_,t){v.exports=t.p+"assets/img/image-20210905101908426.404c6458.png"},689:function(v,_,t){v.exports=t.p+"assets/img/image-20210905102726987.7259f62e.png"},690:function(v,_,t){v.exports=t.p+"assets/img/image-20210905105119505.4e775e42.png"},691:function(v,_,t){v.exports=t.p+"assets/img/image-20210905111108718.403c1871.png"},692:function(v,_,t){v.exports=t.p+"assets/img/image-20210905112547032.d79fe0f5.png"},693:function(v,_,t){v.exports=t.p+"assets/img/image-20210905112940463.e2877354.png"},694:function(v,_,t){v.exports=t.p+"assets/img/image-20210905120050877.fe992fc5.png"},695:function(v,_,t){v.exports=t.p+"assets/img/image-20210905121241352.e085ee7d.png"},696:function(v,_,t){v.exports=t.p+"assets/img/image-20210905151229868.91abcd4e.png"},697:function(v,_,t){v.exports=t.p+"assets/img/image-20210905151930731.2791c0a4.png"},698:function(v,_,t){v.exports=t.p+"assets/img/image-20210905162837255.8501e5e4.png"},699:function(v,_,t){v.exports=t.p+"assets/img/image-20210905171509817.6272cf7d.png"},700:function(v,_,t){v.exports=t.p+"assets/img/image-20210905204238456.e9b863d6.png"},701:function(v,_,t){v.exports=t.p+"assets/img/image-20210905214436854.44aa215d.png"},702:function(v,_,t){v.exports=t.p+"assets/img/image-20210905214812939.d1b831bd.png"},703:function(v,_,t){v.exports=t.p+"assets/img/image-20210906195924252.23efd44d.png"},704:function(v,_,t){v.exports=t.p+"assets/img/image-20210906201014802.fb07070d.png"},705:function(v,_,t){v.exports=t.p+"assets/img/image-20210906204944504.2aac072f.png"},706:function(v,_,t){v.exports=t.p+"assets/img/image-20210906212156432.1815bf9c.png"},707:function(v,_,t){v.exports=t.p+"assets/img/image-20210906213118435.142e2070.png"},708:function(v,_,t){v.exports=t.p+"assets/img/image-20210909192757567.4ab98545.png"},709:function(v,_,t){v.exports=t.p+"assets/img/image-20210909193144595.2d3779d9.png"},710:function(v,_,t){v.exports=t.p+"assets/img/image-20210909195957677.f5de07fa.png"},711:function(v,_,t){v.exports=t.p+"assets/img/image-20210910103345917.88067faf.png"},712:function(v,_,t){v.exports=t.p+"assets/img/image-20210910110640781.724e7b66.png"},713:function(v,_,t){v.exports=t.p+"assets/img/image-20210910113640788.b9006acc.png"},714:function(v,_,t){v.exports=t.p+"assets/img/image-20210910114430950.efa38291.png"},715:function(v,_,t){v.exports=t.p+"assets/img/image-20210910193439615.22a47f9d.png"},716:function(v,_,t){v.exports=t.p+"assets/img/image-20210910195532378.9f4de620.png"},717:function(v,_,t){v.exports=t.p+"assets/img/image-20210910204012411.469f807a.png"},718:function(v,_,t){v.exports=t.p+"assets/img/image-20210910205712399.133b7119.png"},719:function(v,_,t){v.exports=t.p+"assets/img/image-20210911154754108.a9a9a825.png"},720:function(v,_,t){v.exports=t.p+"assets/img/image-20210911164032833.39344ef2.png"},721:function(v,_,t){v.exports=t.p+"assets/img/image-20210911170120132.e729bc8d.png"},722:function(v,_,t){v.exports=t.p+"assets/img/image-20210911193614476.954e32a2.png"},723:function(v,_,t){v.exports=t.p+"assets/img/image-20210911202155021.4955c9e4.png"},724:function(v,_,t){v.exports=t.p+"assets/img/image-20210911203700452.027f95b8.png"},725:function(v,_,t){v.exports=t.p+"assets/img/image-20210911211736440.98015382.png"},726:function(v,_,t){v.exports=t.p+"assets/img/image-20210912094229445.827d6b5e.png"},727:function(v,_,t){v.exports=t.p+"assets/img/image-20210912101550160.2bcbf398.png"},728:function(v,_,t){v.exports=t.p+"assets/img/image-20210912102606574.b565dea9.png"},729:function(v,_,t){v.exports=t.p+"assets/img/image-20210912110543796.f444630d.png"},730:function(v,_,t){v.exports=t.p+"assets/img/image-20210912113044640.b5b445e8.png"},731:function(v,_,t){v.exports=t.p+"assets/img/image-20210912153520655.90cd5cde.png"},732:function(v,_,t){v.exports=t.p+"assets/img/image-20210912170823813.38a0e98e.png"},733:function(v,_,t){v.exports=t.p+"assets/img/image-20210912203751584.32d0c6b7.png"},734:function(v,_,t){v.exports=t.p+"assets/img/image-20210912211704085.062b4da4.png"},735:function(v,_,t){v.exports=t.p+"assets/img/image-20210912213134175.ce30e484.png"},736:function(v,_,t){v.exports=t.p+"assets/img/image-20210912213630283.46b8236b.png"},737:function(v,_,t){v.exports=t.p+"assets/img/image-20210913212717661.c8835d76.png"},738:function(v,_,t){v.exports=t.p+"assets/img/image-20210913213549373.694051cf.png"},739:function(v,_,t){v.exports=t.p+"assets/img/image-20210913213925170.abf199f7.png"},835:function(v,_,t){"use strict";t.r(_);var s=t(17),r=Object(s.a)({},(function(){var v=this,_=v.$createElement,s=v._self._c||_;return s("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[s("h1",{attrs:{id:"第一章-概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一章-概述"}},[v._v("#")]),v._v(" 第一章 概述")]),v._v(" "),s("h2",{attrs:{id:"计算机在信息时代的作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机在信息时代的作用"}},[v._v("#")]),v._v(" 计算机在信息时代的作用")]),v._v(" "),s("p",[v._v("不可或缺，"),s("strong",[v._v("通信基础设施")]),v._v("发展为重要的"),s("strong",[v._v("信息服务基础设施")])]),v._v(" "),s("h2",{attrs:{id:"因特网的概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#因特网的概述"}},[v._v("#")]),v._v(" 因特网的概述")]),v._v(" "),s("h3",{attrs:{id:"网络、互联网-互连网-和因特网"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络、互联网-互连网-和因特网"}},[v._v("#")]),v._v(" 网络、互联网(互连网)和因特网")]),v._v(" "),s("p",[v._v("网络由"),s("strong",[v._v("若干结点")]),v._v("和"),s("strong",[v._v("连接这些结点的链路")]),v._v("组成")]),v._v(" "),s("p",[s("strong",[v._v("多个网络可以由路由器互连")]),v._v("，即"),s("strong",[v._v("互联网")]),v._v("(网络的网络)")]),v._v(" "),s("p",[s("strong",[v._v("因特网")]),v._v("是世界上最大的互连网络")]),v._v(" "),s("p",[v._v("internet(互联网)一个通用名词，网络之间的通信协议是任意的")]),v._v(" "),s("p",[v._v("Internet(因特网)一个专用名词，采用"),s("strong",[v._v("TCP/IP协议族")]),v._v("作为通信的规则")]),v._v(" "),s("h3",{attrs:{id:"因特网发展的三个阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#因特网发展的三个阶段"}},[v._v("#")]),v._v(" 因特网发展的三个阶段")]),v._v(" "),s("p",[v._v("1969(从"),s("strong",[v._v("单个网络")]),v._v("ARPANET向"),s("strong",[v._v("互联网")]),v._v("发展)")]),v._v(" "),s("p",[v._v("===>1983(TCP/IP协议成为ARPANET的标准协议，即"),s("strong",[v._v("因特网诞生")]),v._v("时间)")]),v._v(" "),s("p",[v._v("------》1985(形成三级结构的因特网，"),s("strong",[v._v("NSFNET")]),v._v("(主干网、地区网和校园网))")]),v._v(" "),s("p",[v._v("------》1993(多层次"),s("strong",[v._v("ISP")]),v._v("结构的因特网)")]),v._v(" "),s("p",[v._v("------》1994("),s("strong",[v._v("万维网WWW")]),v._v("技术促使因特网迅猛发展)")]),v._v(" "),s("p",[v._v("ISP(因特网服务提供商)：例中国电信、中国联通、中国移动")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(652),alt:"image-20210823102339892"}}),v._v(" "),s("p",[v._v("A用户连接B用户可能经过多个ISP，因为可能先连接到最底层的Internet,其次在访问B用户的ISP")]),v._v(" "),s("h3",{attrs:{id:"因特网的标准化工作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#因特网的标准化工作"}},[v._v("#")]),v._v(" 因特网的标准化工作")]),v._v(" "),s("p",[v._v("特点：面向公众，因特网所以的RFC技术文档都可以下载")]),v._v(" "),s("p",[v._v("因特网协会"),s("strong",[v._v("ISOC")]),v._v("是一个国际性组织，对因特网进行全面管理")]),v._v(" "),s("p",[v._v("因特网体系结构委员会"),s("strong",[v._v("IAB")]),v._v("，负责有关协议的开发")]),v._v(" "),s("p",[v._v("因特网工程部"),s("strong",[v._v("IETF")]),v._v("，针对协议的开发和标准化")]),v._v(" "),s("p",[v._v("因特网研究部"),s("strong",[v._v("IRTF")]),v._v("，对问题进行开发")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("制订因特网的正式标准(4个阶段)：")]),v._v(" "),s("p",[v._v("因特网草案(不是PFC)---建议标准(开始是PFC)---草案标准---因特网标准("),s("strong",[v._v("小部分的PFC成为因特网标准")]),v._v(")")]),v._v(" "),s("h3",{attrs:{id:"因特网的组成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#因特网的组成"}},[v._v("#")]),v._v(" 因特网的组成")]),v._v(" "),s("p",[v._v("边缘部分：由"),s("strong",[v._v("所有连接因特网上的主机组成")]),v._v("，用户可以直接使用，用来资源共享")]),v._v(" "),s("p",[v._v("核心部分：由"),s("strong",[v._v("大量网络和连接这些网络的路由器")]),v._v("组成，"),s("strong",[v._v("为边缘部分提供服务(提供连通性和交换)")])]),v._v(" "),s("h2",{attrs:{id:"三种交换方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三种交换方式"}},[v._v("#")]),v._v(" 三种交换方式")]),v._v(" "),s("h3",{attrs:{id:"电路交换-circuit-switching"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#电路交换-circuit-switching"}},[v._v("#")]),v._v(" 电路交换(Circuit Switching)")]),v._v(" "),s("p",[v._v("电话交换机接通电话线方式")]),v._v(" "),s("p",[v._v("三个步骤：")]),v._v(" "),s("p",[v._v("1、建立连接（分配通信资源）")]),v._v(" "),s("p",[v._v("2、通话（一直占用通信资源）")]),v._v(" "),s("p",[v._v("3、释放连接（归还通信资源）")]),v._v(" "),s("p",[v._v("而计算机靠这个传送数据是，效率比较低，因为用户占用资源；来进行编辑和修改，不传送，这样资源就被空闲")]),v._v(" "),s("h3",{attrs:{id:"分组交换-packet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分组交换-packet"}},[v._v("#")]),v._v(" 分组交换(Packet)")]),v._v(" "),s("p",[s("strong",[v._v("发送方")]),v._v("："),s("strong",[v._v("构造")]),v._v("分组(数据被拆分)、"),s("strong",[v._v("发送")]),v._v("分组(构造时加个标记，让路由器好识别转发到哪)")]),v._v(" "),s("p",[s("strong",[v._v("路由器")]),v._v("(存储转发)："),s("strong",[v._v("缓存")]),v._v("分组、"),s("strong",[v._v("转发")]),v._v("分组")]),v._v(" "),s("p",[s("strong",[v._v("接收方")]),v._v("："),s("strong",[v._v("接收")]),v._v("分组、"),s("strong",[v._v("还原")]),v._v("报文(就是把数据组装)")]),v._v(" "),s("h3",{attrs:{id:"报文交换-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#报文交换-message"}},[v._v("#")]),v._v(" 报文交换(Message)")]),v._v(" "),s("p",[v._v("将一个很多的数据直接传送，没有拆分，所以存储点需要很大的空间")]),v._v(" "),s("h3",{attrs:{id:"电路、报文、分组的对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#电路、报文、分组的对比"}},[v._v("#")]),v._v(" 电路、报文、分组的对比")]),v._v(" "),s("p",[v._v("电路："),s("strong",[v._v("优点")]),v._v("：一条线，有序传输，控制简单；"),s("strong",[v._v("缺点")]),v._v("：建立连接时间长，效率低，线路被占，只能等")]),v._v(" "),s("p",[v._v("报文："),s("strong",[v._v("优点")]),v._v("：无需连接，效率高，线路被占，还可以使用其他的；"),s("strong",[v._v("缺点")]),v._v("：转发有时延，提供较大的存储空间，需要传输格外的信息量")]),v._v(" "),s("p",[v._v("分组："),s("strong",[v._v("优点")]),v._v("：在报文的基础上，简化存储，"),s("strong",[v._v("缺点")]),v._v("：需要传输格外的信息量，让路由器知道怎么转发，还得还原")]),v._v(" "),s("h2",{attrs:{id:"计算机网络的定义和分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机网络的定义和分类"}},[v._v("#")]),v._v(" 计算机网络的定义和分类")]),v._v(" "),s("h3",{attrs:{id:"计算机网络的定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机网络的定义"}},[v._v("#")]),v._v(" 计算机网络的定义")]),v._v(" "),s("p",[v._v("说的是计算机网络，和网络的组成不同")]),v._v(" "),s("p",[v._v("最简单的定义：一些互相连接的、自治的计算机的集合")]),v._v(" "),s("p",[v._v("互连：计算机之间可以进行数据通信")]),v._v(" "),s("p",[v._v("自治：独立的计算机，有自己的硬件和软件，单独运行")]),v._v(" "),s("p",[v._v("集合：至少两台计算机")]),v._v(" "),s("p",[v._v("现在时代的定义："),s("strong",[v._v("一些通用的、可编程的硬件互连而成")]),v._v("，可编程的硬件(智能手表、手机、电脑)能够用来"),s("strong",[v._v("传送多种不同类型的数据，并支持多种应用")]),v._v("(包括今后可能出现的各种应用)")]),v._v(" "),s("h3",{attrs:{id:"计算机网络的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机网络的分类"}},[v._v("#")]),v._v(" 计算机网络的分类")]),v._v(" "),s("p",[v._v("按"),s("strong",[v._v("交换技术")]),v._v("：电路、报文、分组")]),v._v(" "),s("p",[v._v("按"),s("strong",[v._v("使用者")]),v._v("：公用网(交钱即可)、专用网(军队、火箭研究所)")]),v._v(" "),s("p",[v._v("按"),s("strong",[v._v("传输")]),v._v("介质：有线网络、无线网络")]),v._v(" "),s("p",[v._v("按"),s("strong",[v._v("覆盖范围")]),v._v("分类("),s("strong",[v._v("WMLP")]),v._v(")：广域网WAN(核心，国家级)、城域网MAN(城市)、局域网LAN(校园、公司)、个域网PAN(鼠标、键盘、耳机等)")]),v._v(" "),s("p",[v._v("按"),s("strong",[v._v("拓扑结构")]),v._v("分类：")]),v._v(" "),s("p",[v._v("总线型网络：一条线，有许多连，一个崩坏，全坏")]),v._v(" "),s("p",[v._v("星型网络：一个路由器，多人连，一个崩坏，不影响其他，除非坏的是路由器")]),v._v(" "),s("p",[v._v("环形网络：连接形成一个环，和总线差不多，只是把线弄成环")]),v._v(" "),s("p",[v._v("网状型网络(常用)：多个路由器")]),v._v(" "),s("h2",{attrs:{id:"计算机网络的性能指标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机网络的性能指标"}},[v._v("#")]),v._v(" 计算机网络的性能指标")]),v._v(" "),s("h3",{attrs:{id:"计算机性能指标-1-速率、宽带、吞吐量、时延"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机性能指标-1-速率、宽带、吞吐量、时延"}},[v._v("#")]),v._v(" 计算机性能指标（1）-速率、宽带、吞吐量、时延")]),v._v(" "),s("p",[s("strong",[v._v("比特")]),v._v("：计算机中"),s("strong",[v._v("数据量的单位")]),v._v("\t相当"),s("strong",[v._v("路程")])]),v._v(" "),s("p",[v._v("1B(Byte) =8bit  \tKB=2^10B  \tMB  \tGB  \tTB=="),s("strong",[v._v("=KMGT，进位2^10")])]),v._v(" "),s("p",[s("strong",[v._v("速率")]),v._v("：连接在计算机网络上的"),s("strong",[v._v("主机")]),v._v("在数字道上"),s("strong",[v._v("传送比特的速率")]),v._v("，即"),s("strong",[v._v("比特率或数据率")]),v._v("\t相当"),s("strong",[v._v("速度")])]),v._v(" "),s("p",[v._v("单位：bit/s(即b/s,bps)\tkb/s=10^3b/s\tMb/s\tGb\t\tTb   "),s("strong",[v._v("进位10^3")])]),v._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[v._v("/*\n问题：求传送100MB用的时间，速率是100Mb/s\n100MB/100Mb/s=2^20B/10^6b/s=2^20*8b/10^6b/s\t\tB转b,消掉b\n")])])])]),s("hr"),v._v(" "),s("p",[s("strong",[v._v("带宽")]),v._v("：通信线路传送数据的能力，即最高数据率(速率)。一条通信线路的“频带宽度”越宽，其所传输数据的“最高数据率”也越高")]),v._v(" "),s("p",[s("strong",[v._v("吞吐量")]),v._v("："),s("strong",[v._v("在单位时间内通过某个网络的数据量")]),v._v("，在现实中用于测量网络是否够快。其"),s("strong",[v._v("受网络的宽度或额定速率")]),v._v("的限制")]),v._v(" "),s("p",[s("strong",[v._v("时延")]),v._v("：")]),v._v(" "),s("p",[v._v("发送时延："),s("strong",[v._v("网卡的发送速率，信道带宽，交换机的接口速率")]),v._v("，它们共同决定着主机的发送速率，其中一个很小，一个很大，那么"),s("strong",[v._v("最终发送速率最大是最小的那个")]),v._v("，所有以后要注意均匀，计算公式："),s("strong",[v._v("分组长度(b)/发送速率(b/s)")])]),v._v(" "),s("p",[v._v("传播时延(链路)："),s("strong",[v._v("信道长度(m)/电磁波传播速率(m/s)")]),v._v("，"),s("em",[s("em",[v._v("自由空间：3")]),v._v("(10^8)\t铜线：2.3 * (10^8) 光纤：2.0")]),v._v("(10^8)**")]),v._v(" "),s("p",[v._v("处理时延：路由器处理数据过程，忽略不计，不方便计算")]),v._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[v._v("/*\n数据块长度为100 MB,信道带宽为1Mb/s,传送距离为1000 km,计算发送时延和传播时延。默认电磁波传播速率是光纤\n\n发送时延:100*2^20*8(b)/1*10^6(b/s)=838.8608s\n传播时延:1000*1000(m)/2*10^8(m/s)=0.005s\n")])])])]),s("h3",{attrs:{id:"计算机性能指标-2-时延带宽积、往返时间、利用率、丢包率"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机性能指标-2-时延带宽积、往返时间、利用率、丢包率"}},[v._v("#")]),v._v(" 计算机性能指标（2）-时延带宽积、往返时间、利用率、丢包率")]),v._v(" "),s("p",[s("strong",[v._v("时延带宽积")]),v._v("："),s("strong",[v._v("传播时延*带宽")]),v._v("，圆柱的体积，"),s("strong",[v._v("链路")]),v._v("的时延带宽积又称为以"),s("strong",[v._v("比特为单位的链路长度")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(653),alt:"image-20210823160053236"}})]),v._v(" "),s("p",[s("strong",[v._v("往返时间(RTT)")]),v._v("：因特网上的信息不仅仅单方向传输，而是"),s("strong",[v._v("双向交互")]),v._v("，双向来回时，耗时最多的是链路")]),v._v(" "),s("p",[s("strong",[v._v("利用率")]),v._v("：分为信道利用率("),s("strong",[v._v("有几个数据通过")]),v._v(")和网络利用率("),s("strong",[v._v("全网络的信道利用率的加权平均")]),v._v(")")]),v._v(" "),s("p",[v._v("令"),s("strong",[v._v("D0表示网络空闲时的时延")]),v._v("，D表示网络当前的时延，利用率U，关系：D=D0/1-U")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(654),alt:"image-20210823160628158"}}),v._v(" "),s("p",[v._v("信道利用率并非越高越好，要控制在50%之下，因此要动态调整信道利用率，如果超过50%，那么就要增大线路的带宽")]),v._v(" "),s("p",[v._v("丢包率：即"),s("strong",[v._v("分组丢失率")]),v._v("，丢失的分组数量与总分组数量的比率")]),v._v(" "),s("p",[v._v("分组丢失出现的原因主要有2种：传输过程"),s("strong",[v._v("出现误码")]),v._v("；第二，"),s("strong",[v._v("分组交换机(路由器)已满")]),v._v("，它就被丢弃，所以在通信量比较大时就可能造成网络拥塞")]),v._v(" "),s("h2",{attrs:{id:"计算机网络体系结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机网络体系结构"}},[v._v("#")]),v._v(" 计算机网络体系结构")]),v._v(" "),s("h3",{attrs:{id:"常见的计算机网络体系结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见的计算机网络体系结构"}},[v._v("#")]),v._v(" 常见的计算机网络体系结构")]),v._v(" "),s("p",[s("strong",[v._v("OSI体系结构")]),v._v("(法律上的国际标准)：物理层、数据链路层、网络层、运输层、会话层、表示层、应用层")]),v._v(" "),s("p",[s("strong",[v._v("TCP/IP体系结构")]),v._v("(事实上的国际标准，具有一定的商业化)：网络接口层、网际层、运输层、应用层")]),v._v(" "),s("p",[s("strong",[v._v("原理体系结构")]),v._v("(适用于教学)：物理层、数据链路层、"),s("strong",[v._v("网络层(和网际层差不多)")]),v._v("、运输层、应用层")]),v._v(" "),s("p",[v._v("路由器(网络接口层、网际层)")]),v._v(" "),s("p",[v._v("最重要的是"),s("strong",[v._v("网际层(IP)")]),v._v("、使用"),s("strong",[v._v("IP协议互连不同的网络接口("),s("strong",[v._v("有线的以太网接口、无线的局域网的WiFi接口等)、"),s("strong",[v._v("运输层(TCP、UDP)")]),v._v("，TCP提供可靠服务给")]),v._v("应用层(HTTP、SMTP)")]),v._v("；UDP提供不可靠**(DNS、RTP)**")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(655),alt:"image-20210823163723368"}}),v._v(" "),s("h3",{attrs:{id:"分层的必要性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分层的必要性"}},[v._v("#")]),v._v(" 分层的必要性")]),v._v(" "),s("p",[v._v("将若大的问题通过分层解决，即局部处理")]),v._v(" "),s("p",[s("strong",[v._v("物理层")]),v._v("：解决传输01比特位，要接口、双绞线网线、0低电压1高电压；以太网接口(电脑连学校网线(双绞线网线)旁边那个)")]),v._v(" "),s("p",[s("strong",[v._v("解决使用何种信号来传输比特的问题")])]),v._v(" "),s("p",[s("strong",[v._v("数据链路层")]),v._v("："),s("strong",[v._v("解决分组在一个网络(或一段链路)上的传输问题")])]),v._v(" "),s("p",[s("strong",[v._v("网络层")]),v._v("：解决分组在"),s("strong",[v._v("多个网络上")]),v._v("传输问题("),s("strong",[v._v("路由")]),v._v(")，IP地址前7为相同，说明连的是一个路由器")]),v._v(" "),s("p",[s("strong",[v._v("运输层")]),v._v("：解决"),s("strong",[v._v("进程之间")]),v._v("基于网络的"),s("strong",[v._v("通信问题")])]),v._v(" "),s("p",[s("strong",[v._v("应用层")]),v._v("：解决通过应用进程的交互来实现"),s("strong",[v._v("特定网络应用的问题")])]),v._v(" "),s("p",[v._v("支持"),s("strong",[v._v("万维网")]),v._v("应用的"),s("strong",[v._v("HTTP")]),v._v("协议")]),v._v(" "),s("p",[v._v("电子邮件的SMTP协议")]),v._v(" "),s("p",[v._v("文件传送的FTP协议")]),v._v(" "),s("h3",{attrs:{id:"分层思想举例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分层思想举例"}},[v._v("#")]),v._v(" 分层思想举例")]),v._v(" "),s("p",[v._v("在主机的浏览器输入地址，发起请求")]),v._v(" "),s("p",[v._v("应用层：将它转换为HTTP请求报文")]),v._v(" "),s("p",[v._v("运输层：添加TCP，变为TCP报文段")]),v._v(" "),s("p",[v._v("网络层：添加IP，变为IP数据报")]),v._v(" "),s("p",[v._v("链路层：添加ETH，变为帧")]),v._v(" "),s("p",[v._v("物理层：添加前导码，解析时把前导码去掉，变为比特流，其次去掉ETH....")]),v._v(" "),s("h3",{attrs:{id:"专用术语"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#专用术语"}},[v._v("#")]),v._v(" 专用术语")]),v._v(" "),s("p",[s("strong",[v._v("实体")]),v._v("："),s("strong",[v._v("硬件或软件进程")]),v._v(" "),s("strong",[v._v("对等实体")]),v._v("：收发双方相同层中的实体，例"),s("strong",[v._v("应用层(发)和应用层(收)是对等实体")])]),v._v(" "),s("p",[s("strong",[v._v("协议")]),v._v("：控制两个对等实体进行"),s("strong",[v._v("逻辑通信(虚的)的规则的集合")]),v._v("，必须是一层一层来，不可能直接应用层到应用层")]),v._v(" "),s("p",[v._v("协议的"),s("strong",[v._v("三要素")]),v._v("："),s("strong",[v._v("语法\t\t语义\t\t同步")])]),v._v(" "),s("p",[v._v("语法：定义交换信息的"),s("strong",[v._v("格式")])]),v._v(" "),s("p",[v._v("语义：定义收发双方"),s("strong",[v._v("要完成的操作")])]),v._v(" "),s("p",[v._v("同步：定义收发双方的时序关系，即一方已发送，一个是否已接收")]),v._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[v._v("要实现本层协议"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),v._v("即逻辑通信"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),v._v("，必须使用下面一层所提供的服务\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[v._v("//协议水平的，服务垂直")]),v._v("\n享受服务，无需懂原理，即不知道它"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v("(")]),v._v("下面一层"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[v._v(")")]),v._v("的协议\n")])])]),s("p",[s("strong",[v._v("服务访问点")]),v._v("(上下的，即在一个体系结构)：相邻两层的实体交换信息的逻辑接口，区分不同的服务类型")]),v._v(" "),s("p",[v._v("数据链路层：服务访问点为"),s("strong",[v._v("类型")])]),v._v(" "),s("p",[v._v("网络层："),s("strong",[v._v("协议字段")])]),v._v(" "),s("p",[v._v("运输层："),s("strong",[v._v("端口号")])]),v._v(" "),s("p",[v._v("服务原语：上使用下，交换一些命令，命令即服务原语")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("协议")]),v._v("数据单元"),s("strong",[v._v("PDU")]),v._v("："),s("strong",[v._v("对等层次之间传送的数据包")])]),v._v(" "),s("p",[v._v("比特流---帧---分组或IP数据报---TCP报文段或UDP用户数据段---报文")]),v._v(" "),s("p",[s("strong",[v._v("服务")]),v._v("数据单元"),s("strong",[v._v("SDU")]),v._v("：同一个系统(即一个体系结构)内，层和层之间交换的"),s("strong",[v._v("数据包")])]),v._v(" "),s("p",[v._v("多个SDU可以合成一个PDU，一个SDU可划分为几个PDU")]),v._v(" "),s("h2",{attrs:{id:"习题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#习题"}},[v._v("#")]),v._v(" 习题")]),v._v(" "),s("h3",{attrs:{id:"计算机网络体系结构习题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算机网络体系结构习题"}},[v._v("#")]),v._v(" 计算机网络体系结构习题")]),v._v(" "),s("p",[v._v("【2009年 题33】\t在OSI参考模型中，自上而下第一个提供"),s("strong",[v._v("端到端")]),v._v("服务的层次是（）")]),v._v(" "),s("p",[v._v("A 数据链路层\t\t\t\tB 传输层\t\t\t\tC 会话层\t\t\t\tD 应用层")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：B，为应用层的"),s("strong",[v._v("应用进程之间")]),v._v("提供"),s("strong",[v._v("端到端")]),v._v("的逻辑"),s("strong",[v._v("通信")])]),v._v(" "),s("p",[v._v("【2010年 题33】不属于网络体系结构所描述的内容是（）")]),v._v(" "),s("p",[v._v("A、网络的层次\tB、每一层使用的协议\tC、协议的内部实现的细节\tD、每一层必须完成的功能")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：C、计算机网络的体系结构就是"),s("strong",[v._v("计算机网络及其构件所完成的功能的精确定义")]),v._v("，不需要知道具体的细节")]),v._v(" "),s("p",[v._v("【2013年 题33】\t在"),s("strong",[v._v("OSI")]),v._v("参考模型中，下列功能需由应用层的相邻层实现的是（）")]),v._v(" "),s("p",[v._v("A、对话管理\t\tB、数据格式转换\t\tC、路由选择\t\tD、可靠数据传输")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：B；表示层实现数据表示相关的功能，包括：数据字符集的转换、数据格式化、文本压缩、数据加密以及解密")]),v._v(" "),s("p",[v._v("表示层：解决通信"),s("strong",[v._v("双方交换信息的表示问题")])]),v._v(" "),s("p",[v._v("会话层：解决进程"),s("strong",[v._v("之间进行会话问题")])]),v._v(" "),s("p",[v._v("【2014年 题33】\t在OSI参考模型中，直接为会话层提供服务的是（）")]),v._v(" "),s("p",[v._v("A、应用层\t\t\tB、表示层\t\tC、传输层\t\tD、网络层")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：C；OSI中下到上 网络层、数据链路层、网络层、运输层、会话层、表示层、应用层")]),v._v(" "),s("p",[v._v("【2016年 题33】在OSI参考模型中，R1、Switch、Hub实现的最高功能层分别是（）")]),v._v(" "),s("p",[v._v("A、2、2、1\t\tB、2、2、2\t\tC、3、2、1\t\tD、3、2、2")]),v._v(" "),s("p",[v._v("已给：R1是路由器，Switch为交换机，Hub为集线器")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：C，R1是网络层；Switch是数据链路层，Hub是物理层")]),v._v(" "),s("p",[v._v("【2017年 题33】假设OSI参考模型的应用层发送400B的数据（无拆分），"),s("strong",[v._v("除物理层和应用层之外")]),v._v("，其他层在封装PDU时要多加20B的开销，则应用层数据传输效率为（）")]),v._v(" "),s("p",[v._v("A、80%\t\tB、83%\t\tC、87%\t\tD、91%")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：：A，OSI有7层，除掉2层，那么格外开销为100B，具体看除了什么，如果只除应用层，那么物理层还得加20B的开销，400/500=0.8")]),v._v(" "),s("p",[v._v("TCP/IP体系结构的网络接口层对应OSI体系结构的（）")]),v._v(" "),s("p",[v._v("I.数据链路层\t\tII.物理层\t\tIII.网络层\t\tIV.运输层")]),v._v(" "),s("p",[v._v("A、I、II\t\t\tB、I、IV\t\t\tC、II、III\t\t\tD、II、IV")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：A，因为TCP/IP只有四层，从上到下，"),s("strong",[v._v("网络接口层、网际层、运输层、应用层")]),v._v("，而"),s("strong",[v._v("网络接口层对应OSI的网络层和数据链路层")])]),v._v(" "),s("h3",{attrs:{id:"时延习题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时延习题"}},[v._v("#")]),v._v(" 时延习题")]),v._v(" "),s("p",[v._v("两主机间的链路长度为60m，链路带宽为10Mb/s，信号的传播速率为2.0*10^8m/s，其中一台主机给另一台主机发送"),s("strong",[v._v("1b")]),v._v("信息，当主机接收完该信息时共耗费多长时间？")]),v._v(" "),s("p",[s("strong",[v._v("答案")]),v._v("：总时间=发送时延+传播时延")]),v._v(" "),s("p",[v._v("发送时延=1(b)/10*10^6(b/s)= 10 ^ -7")]),v._v(" "),s("p",[v._v("传播时延=60(m)/2.0*10^8(m/s)=3 * 10^-7")]),v._v(" "),s("p",[v._v("发送"),s("strong",[v._v("nb")]),v._v("信息，总时间=(n+3)*10^7")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("假设：分组等长，各链路长度相同、带宽也相同，忽略路由器的处理时延")]),v._v(" "),s("p",[v._v("n个分组，m段链路，则总时延是多少？")]),v._v(" "),s("p",[v._v("==n个分组的发送时延，m-1个分组的发送时延(即路由器的转发时延)，m段链路的传播时延==(一个路由器到另一个路由器)")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("【习题2】试在下列条件下比较电路交换和分组交换。\n要传送的报文共"),s("strong",[v._v("x(bit)")]),v._v("。从源点到终点共经过"),s("strong",[v._v("k段链路")]),v._v("，每段链路的"),s("strong",[v._v("传播时延为d(s)")]),v._v("，"),s("strong",[v._v("带宽为b(bit/s)")]),v._v("。在电路交换时，"),s("strong",[v._v("电路的建立时间为s(s)")]),v._v("。在分组交换时，报文可被划分成"),s("strong",[v._v("若干个长度为p(bit)"),s("strong",[v._v("的数据段，添加首部后即可构成分组，假设")]),v._v("分组首部的长度")]),v._v("以及分组在各结点的排队等待时间"),s("strong",[v._v("忽略不计")]),v._v("。\n问在怎样的条件下，电路交换的的时延比分组交换的要大?")]),v._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[v._v("/*\n总数据:x(b)\n链路：k\n传播时延：d(s)\n带宽：b(b/s)\n\n电路交换：\n电路建立时间：s（s）\n\n电路交换时间：s+x/b+kd，即发生时延+电路建立时间，中间没有路由器的转发时间，没有分组\n\n分组交换：\n分为长度为p(b)\n有多少个：x/p\n发送时延：p/b\n\n分组时间：x/p*p/b + (k-1)*p/b + kd\n\n注意：计算分组长度即可，就算有添加首部，求总分组个数时，直接用总长度/分组长度，不用除分组长度+首部的和\n")])])])]),s("p",[v._v("报文"),s("strong",[v._v("路由器转发时间和发送时间相同")])]),v._v(" "),s("p",[v._v("路由器接收到分组的数据就可以转发，而报文的接收完才能转发")]),v._v(" "),s("p",[v._v("【2010年 题34】图采用“存储-转发”方式的分组交换网络，所有"),s("strong",[v._v("链路")]),v._v("的数据传输速率为"),s("strong",[v._v("100Mbps")]),v._v("，分组大小为"),s("strong",[v._v("1000B")]),v._v("，"),s("strong",[v._v("其中分组头")]),v._v("大小为"),s("strong",[v._v("20B")]),v._v("。若主机H1向H2发送一个大小为"),s("strong",[v._v("980000B的文件")]),v._v("，则在"),s("strong",[v._v("不考虑")]),v._v("分组拆装时间和"),s("strong",[v._v("传播时延")]),v._v("情况下，从H1发送开始到H2接收完为止，需要的时间至少是（）")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(656),alt:"image-20210824184902348"}}),v._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[v._v("/*\n注意：其中，所以真实的分组大小为980*8b，而单个长度是8000b\n\n总数据：980000*8b\n分组长度：7840\n分组个数：1000\n分组头：20*8b\n单个长度：8000\n\n链路：3\n带宽：1*10^8(b/s)\n\n传播时延不计\n\n发生时延：1000*(8000)/10^8=0.08\n路由器的转发时延：2*8000/10^8=0.00016\n总时延：80.16ms\n")])])])]),s("h1",{attrs:{id:"第二章-物理层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二章-物理层"}},[v._v("#")]),v._v(" 第二章 物理层")]),v._v(" "),s("h2",{attrs:{id:"物理层的基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#物理层的基本概念"}},[v._v("#")]),v._v(" 物理层的基本概念")]),v._v(" "),s("p",[s("strong",[v._v("传输媒体")]),v._v("：分为两种，导引型传输媒体，非导引型传输媒体")]),v._v(" "),s("p",[s("strong",[v._v("导引型传输媒体")]),v._v("：双绞线、同轴电缆、光纤")]),v._v(" "),s("p",[s("strong",[v._v("非导引型传输媒体(自由空间)")]),v._v("：微波通信（2~40GHz），例：WIFI：2.4G、5.0G")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("物理层考虑")]),v._v("的是怎样才能在连接"),s("strong",[v._v("各种计算机的传输媒体")]),v._v("上"),s("strong",[v._v("传输数据比特流")])]),v._v(" "),s("p",[s("strong",[v._v("物理层协议")]),v._v("的主要任务：")]),v._v(" "),s("p",[s("strong",[v._v("机械特性")]),v._v("："),s("strong",[v._v("接线器")]),v._v("的形状和尺寸、引脚数目和排列、固定和锁定装置")]),v._v(" "),s("p",[s("strong",[v._v("电气")]),v._v("特性：接口"),s("strong",[v._v("电缆的各条线")]),v._v("上出现的"),s("strong",[v._v("电压范围")])]),v._v(" "),s("p",[s("strong",[v._v("功能")]),v._v("特性：某条线的某一"),s("strong",[v._v("电平的电压")]),v._v("表示何种意义")]),v._v(" "),s("p",[s("strong",[v._v("过程")]),v._v("特性：不同功能的"),s("strong",[v._v("各种可能事件的出现顺序")])]),v._v(" "),s("h2",{attrs:{id:"物理层下面的传输媒体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#物理层下面的传输媒体"}},[v._v("#")]),v._v(" 物理层下面的传输媒体")]),v._v(" "),s("h3",{attrs:{id:"导引型传输媒体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导引型传输媒体"}},[v._v("#")]),v._v(" 导引型传输媒体")]),v._v(" "),s("p",[s("strong",[v._v("同轴电缆")]),v._v("：硬件：内导体、绝缘层、屏蔽层、绝缘保护套层，从横切面可以看出同轴心，所以叫同轴电缆")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(657),alt:"image-20210824201702727"}}),v._v(" "),s("p",[v._v("常见的同轴电缆：")]),v._v(" "),s("p",[s("strong",[v._v("基带同轴电缆")]),v._v("（50欧）：数字传输，过去用于局域网")]),v._v(" "),s("p",[s("strong",[v._v("宽带")]),v._v("同轴电缆（75欧）：模拟传输，目前用于有线电视")]),v._v(" "),s("p",[s("strong",[v._v("缺点")]),v._v("：同轴电缆贵，布线不灵活，局域网基本用双绞线作为传输媒体")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("双绞线")]),v._v("：8条线，两两绞合，蓝和蓝白；橙、绿、棕一样和自身带白的绞合（"),s("strong",[v._v("蓝橙绿棕")]),v._v("）")]),v._v(" "),s("p",[s("strong",[v._v("绞合的作用")]),v._v("：")]),v._v(" "),s("p",[v._v("外界：抵御部分"),s("strong",[v._v("外界的电磁波")]),v._v("干扰\t\t相邻导线：减少"),s("strong",[v._v("相邻导线的电磁")]),v._v("干扰")]),v._v(" "),s("p",[v._v("交换线类别：就是有几种颜色")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(658),alt:"image-20210824203202804"}}),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("光纤：多模光纤、单模光纤")]),v._v(" "),s("p",[s("strong",[v._v("多模光纤")]),v._v("：绿色是纤芯，光在纤芯中传输方式"),s("strong",[v._v("不断地全反射")]),v._v("，蓝色返弹；"),s("strong",[v._v("发送光源：发光二极管；接收检测（检测光脉冲）：光电二极管")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(659),alt:"image-20210824204948186"}}),v._v(" "),s("p",[v._v("由于色散（模式、材料、波导色散），会产生信号失真（"),s("strong",[v._v("脉冲展宽")]),v._v("），因此，只适合近距离传输")]),v._v(" "),s("p",[s("strong",[v._v("单模光纤")]),v._v("：没有模式色散，而材料色散和波导色散抵消，"),s("strong",[v._v("相当于没有色散")]),v._v("，所以信号失真可能性很低，但是制造成本高，对光源要求高；发送光源："),s("strong",[v._v("激光发生器")]),v._v("，接收检测："),s("strong",[v._v("激光检波器")])]),v._v(" "),s("p",[s("strong",[v._v("光纤优点")]),v._v("：")]),v._v(" "),s("p",[v._v("1、通信"),s("strong",[v._v("容量大")]),v._v("（25000~30000GHz的带宽）")]),v._v(" "),s("p",[v._v("2、传输"),s("strong",[v._v("损耗小")]),v._v("，远传输必备")]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("抗雷电和电磁")]),v._v("干扰性能好")]),v._v(" "),s("p",[v._v("4、"),s("strong",[v._v("无串音干扰")]),v._v("，保密性好，不易被窃听")]),v._v(" "),s("p",[v._v("5、体积小，"),s("strong",[v._v("重量轻")])]),v._v(" "),s("p",[s("strong",[v._v("缺点")]),v._v("：价格"),s("strong",[v._v("昂贵")]),v._v("、割接需要"),s("strong",[v._v("专用设备")])]),v._v(" "),s("h3",{attrs:{id:"非导引型传输媒体-自由空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#非导引型传输媒体-自由空间"}},[v._v("#")]),v._v(" 非导引型传输媒体(自由空间)")]),v._v(" "),s("p",[s("strong",[v._v("无线电波")]),v._v("："),s("strong",[v._v("频率越大，波长越小")]),v._v("；LF和MF主要是"),s("strong",[v._v("地面波传输")]),v._v("；HF和VHF主要是高空处的"),s("strong",[v._v("带电离子层")]),v._v("传输")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(660),alt:"image-20210824211848593"}}),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("微波")]),v._v("：两个微波通信，之间距离是"),s("strong",[v._v("50~100km")]),v._v("，所以建立"),s("strong",[v._v("多个中继站")]),v._v("，这样网络就可以覆盖整个地球")]),v._v(" "),s("p",[s("strong",[v._v("红外线")]),v._v("：点对点"),s("strong",[v._v("无线传输")]),v._v("，是直线传输，中间"),s("strong",[v._v("不能有障碍物")]),v._v("，传输"),s("strong",[v._v("距离短")]),v._v("，传输速率低（4Mb/s~16Mb/s）,现在小米手机还有红外线，方便对电视、空调等电器进行控制")]),v._v(" "),s("h2",{attrs:{id:"传输方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#传输方式"}},[v._v("#")]),v._v(" 传输方式")]),v._v(" "),s("p",[s("strong",[v._v("串行")]),v._v("传输和"),s("strong",[v._v("并行")]),v._v("传输："),s("strong",[v._v("并即多个线路")]),v._v("，串即一个线路；"),s("strong",[v._v("计算机内部是并行传输")]),v._v("，而计算机之间传输("),s("strong",[v._v("远距离")]),v._v(")是"),s("strong",[v._v("串行传输")])]),v._v(" "),s("p",[s("strong",[v._v("同步")]),v._v("传输和"),s("strong",[v._v("异步")]),v._v("传输：")]),v._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[v._v("/*\n同步：当数据量大时，时钟误差积累\n收发双方时钟同步的方法：\n1、外同步：添加一条单独的时钟信号线\n2、内同步：发送端把时钟信号编码到发送数据中一起传输（例曼彻斯特编码）\n\n异步：\n字节之间异步（字节之间的时间间隔不固定）\n字节中的每个比特仍然要同步（各比特的持续时间是相同的）\n注意：这时加个起始和结束位\n")])])])]),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(661),alt:"image-20210824214822526"}}),v._v(" "),s("p",[s("strong",[v._v("单向")]),v._v("、"),s("strong",[v._v("双向交替")]),v._v("、"),s("strong",[v._v("双向同时")]),v._v("通信：")]),v._v(" "),s("p",[v._v("单向即一个方向传输，而双向交替即有两个方向，但不能同时进行；双向同时就可以")]),v._v(" "),s("p",[v._v("注意："),s("strong",[v._v("串行和并行还是一个方向")])]),v._v(" "),s("h2",{attrs:{id:"编码与调制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编码与调制"}},[v._v("#")]),v._v(" 编码与调制")]),v._v(" "),s("p",[v._v("消息(文字、图片、音频、视频)--数据--"),s("strong",[v._v("信号(数据的电磁表现")]),v._v(")---基带信号")]),v._v(" "),s("p",[s("strong",[v._v("基带信号")]),v._v("分为两种**：数字基带"),s("strong",[v._v("信号和")]),v._v("模拟基带**信号")]),v._v(" "),s("p",[s("strong",[v._v("数字基带")]),v._v("："),s("strong",[v._v("编码")]),v._v("到"),s("strong",[v._v("数字通道")]),v._v("，而"),s("strong",[v._v("调制")]),v._v("到"),s("strong",[v._v("模拟通道")])]),v._v(" "),s("p",[s("strong",[v._v("模拟")]),v._v("基带：编码："),s("strong",[v._v("对音频信号进行编码的脉码调制PCM")])]),v._v(" "),s("p",[v._v("码元：在使用"),s("strong",[v._v("时间域的波形")]),v._v("表示"),s("strong",[v._v("数字信号")]),v._v("，"),s("strong",[v._v("代表不同离散数值的基本波形")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(662),alt:"image-20210824222028030"}}),v._v(" "),s("h3",{attrs:{id:"常用编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用编码"}},[v._v("#")]),v._v(" 常用编码")]),v._v(" "),s("p",[v._v("1、不归零编码NRZ（存在同步问题）")]),v._v(" "),s("p",[v._v("2、反向不归零编码NRZI：比较前后"),s("strong",[v._v("码元所连续的电平")]),v._v("，不同则表示0，相同则为1，差分曼彻斯特编码是比较"),s("strong",[v._v("码元开始的电平")])]),v._v(" "),s("p",[v._v("3、归零编码RZ（自同步，编码效率低，即"),s("strong",[v._v("0占用数据段")]),v._v("）")]),v._v(" "),s("p",[v._v("4、曼彻斯特编码（传统以太网，10Mb/s）码元"),s("strong",[v._v("中间时刻")]),v._v("的跳变即表示时钟，又表示数据")]),v._v(" "),s("p",[v._v("5、差分曼彻斯特编码（比之前变换少，适合较高的传输效率）："),s("strong",[v._v("跳变仅表示时钟")]),v._v("，"),s("strong",[v._v("码元开始")]),v._v("处电平双方发生变化表示数据，"),s("strong",[v._v("和之前码元开始一样则是1")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(663),alt:"image-20210824224022117"}}),v._v(" "),s("p",[v._v("【2013年 题34】若下图为10BaseT网卡接收到的信号波形，则该网卡收到的比特串是（）")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(664),alt:"image-20210824225033953"}}),v._v(" "),s("p",[v._v("A、0011 0110\t\t\tB、1010 1101\t\t\tC、0101 0010\t\t\tD、1100 0101")]),v._v(" "),s("p",[v._v("答案：A；base基带 T双绞线，这说明是"),s("strong",[v._v("曼彻斯特编码")]),v._v("，我们要找中间判断方向，向上为1还是0，自己定，假设上为0，那么可得A答案")]),v._v(" "),s("h3",{attrs:{id:"调制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调制"}},[v._v("#")]),v._v(" 调制")]),v._v(" "),s("p",[v._v("基本调制方法：")]),v._v(" "),s("p",[s("img",{attrs:{src:t(665),alt:"image-20210824230445269"}})]),v._v(" "),s("p",[s("strong",[v._v("混合调制")]),v._v("----"),s("strong",[v._v("正交振幅调制QAM")])]),v._v(" "),s("p",[v._v("QAM-16：")]),v._v(" "),s("p",[v._v("1、12种相位")]),v._v(" "),s("p",[v._v("2、每一种相位有1或2种振幅可选")]),v._v(" "),s("p",[v._v("3、调制出16种码元，"),s("strong",[v._v("一个码元4个比特")])]),v._v(" "),s("p",[v._v("4、码元和4个比特的对应关系常用格雷码（即任意"),s("strong",[v._v("两个相邻码元只有1个比特不同")]),v._v("）")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(666),alt:"image-20210824225829007"}}),v._v(" "),s("h2",{attrs:{id:"信道的极限容量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#信道的极限容量"}},[v._v("#")]),v._v(" 信道的极限容量")]),v._v(" "),s("p",[v._v("通信质量"),s("strong",[v._v("较差的信道")]),v._v("：会出现"),s("strong",[v._v("失真")])]),v._v(" "),s("p",[v._v("失真元素："),s("strong",[v._v("码元传输速率")]),v._v("、信号传输"),s("strong",[v._v("距离")]),v._v("、"),s("strong",[v._v("噪声")]),v._v("干扰、传输"),s("strong",[v._v("媒体质量")]),v._v("等")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("奈氏准则")]),v._v("("),s("strong",[v._v("码元传输速率")]),v._v(")：")]),v._v(" "),s("p",[v._v("理想"),s("strong",[v._v("低通信道")]),v._v("的最高码元传输速率（实际比它小）=2W 码元/秒\t\t\tW：信道带宽（单位为Hz）")]),v._v(" "),s("p",[v._v("理想"),s("strong",[v._v("带通信道")]),v._v("……=W 码元/秒")]),v._v(" "),s("p",[v._v("==码元速率又称为=="),s("strong",[v._v("波特率、调制速率、波形速率或符号速率")]),v._v("，它与"),s("strong",[v._v("比特率有")]),v._v("一定"),s("strong",[v._v("关系")])]),v._v(" "),s("p",[v._v("当"),s("strong",[v._v("1个码元携带n比特")]),v._v("的信息量时，波特率转换为比特率时**，数值乘以n**")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("香农公式")]),v._v("："),s("strong",[v._v("高斯白噪声干扰")]),v._v("的信道的极限信息传输速率")]),v._v(" "),s("p",[v._v("c=W*log2(1+S/N)")]),v._v(" "),s("p",[v._v("c：信道的极限信息传输速率")]),v._v(" "),s("p",[v._v("W：信道带宽")]),v._v(" "),s("p",[v._v("S：信道内所传信号的"),s("strong",[v._v("平均功率")])]),v._v(" "),s("p",[s("strong",[v._v("S/N：信噪比，单位（dB）")]),v._v("，计算公式为信噪比=10*log10(S/N)")]),v._v(" "),s("p",[v._v("【2014年 题35】："),s("strong",[v._v("不会影响")]),v._v("信道数据传输速率的是（）")]),v._v(" "),s("p",[v._v("A、信噪比\t\t\tB、频率带宽\t\t\tC、调制速度\t\t\tD、信号传播速度")]),v._v(" "),s("p",[v._v("答案：D；由香农公式知AB答案有影响，而C答案影响奈氏准则")]),v._v(" "),s("p",[v._v("【2009年 题34】：在"),s("strong",[v._v("无噪声")]),v._v("情况下，若某"),s("strong",[v._v("通信链路")]),v._v("的"),s("strong",[v._v("带宽为3kHz")]),v._v("，采用"),s("strong",[v._v("4个相位")]),v._v("，"),s("strong",[v._v("每一个相位具有4种振幅")]),v._v("的"),s("strong",[v._v("QAM")]),v._v("调制技术，则该通信链路的最大数据传输速率是（）")]),v._v(" "),s("p",[v._v("A、12kbps\t\t\tB、24kbps\t\t\tC、48kbps\t\t\tD、96kbps")]),v._v(" "),s("p",[v._v("答案：B；由奈氏可知，"),s("strong",[v._v("最高码元传输速率是2*3=6kbps")]),v._v("；而其他条件可知，可以调制16个不同的基本波形（码元）；需要使用4个比特（log2(16)=4）；换句话说，"),s("strong",[v._v("每个码元可以携带信息量为4比特")]),v._v("。最后，4 * 6=24")]),v._v(" "),s("p",[v._v("【2011年 题34】：若某"),s("strong",[v._v("通信链路")]),v._v("的数据传输速率为2400bps，采用4相位调制，则该链路的波特率是（）")]),v._v(" "),s("p",[v._v("A、600波特\t\t\tB、1200波特\t\t\tC、4800波特\t\t\tD、9600波特")]),v._v(" "),s("p",[v._v("答案：B；log2(4)=2，即一个码元携带2个比特，所以2400/2=1200；总结："),s("strong",[v._v("低通信道可以是通信链路，码元传输速率也叫波特率")])]),v._v(" "),s("p",[v._v("【2016年 题34】：若连接R2和R3链路的频率"),s("strong",[v._v("带宽为8kHz")]),v._v("，"),s("strong",[v._v("信噪比为30dB")]),v._v("，该链路"),s("strong",[v._v("实际")]),v._v("数据传输"),s("strong",[v._v("速率")]),v._v("约为理论"),s("strong",[v._v("最大")]),v._v("数据传输"),s("strong",[v._v("速率")]),v._v("的"),s("strong",[v._v("50%")]),v._v("，则该链路的实际数据传输速率约是（）")]),v._v(" "),s("p",[v._v("A、8kbps\t\t\tB、20kbps\t\t\tC、40kbps\t\t\tD、80kbps")]),v._v(" "),s("p",[v._v("答案：C；信噪比=10*log10(S/N)，把30带入得S/N等于1000；由c=8k * log2(1+S/N)，得c=80kbps，所以实际是40kbps")]),v._v(" "),s("p",[v._v("【2017年 题34】：若信道在"),s("strong",[v._v("无噪声")]),v._v("情况下得"),s("strong",[v._v("极限数据传输速率")]),v._v("不小于"),s("strong",[v._v("信噪比为30dB")]),v._v("条件下的"),s("strong",[v._v("极限数据传输速率")]),v._v("，则信号状态至少是（）")]),v._v(" "),s("p",[v._v("A、4\t\t\tB、8\t\t\tC、16\t\t\tD、32")]),v._v(" "),s("p",[v._v("答案：D；信号状态数即（可调制出的不同基本波形或码元数量），设为X，则每个码元携带的比特数量为log2(X)；无噪声，用奈氏准则计算得2W*log2(X)，而30dB的用香农公式，得W * log2(1+1000)，最后得X>=32")]),v._v(" "),s("p",[v._v("30=10*log10(S/N)，即S/N为1000")]),v._v(" "),s("h2",{attrs:{id:"习题-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#习题-2"}},[v._v("#")]),v._v(" 习题")]),v._v(" "),s("p",[v._v("【2012年 题34】：在物理层"),s("strong",[v._v("接口特性中")]),v._v("，用于描述完成"),s("strong",[v._v("每种功能的时间发生顺序")]),v._v("的是（）")]),v._v(" "),s("p",[v._v("A、机械特性\t\t\tB、功能特性\t\t\tC、过程特性\t\t\tD、电气特性")]),v._v(" "),s("p",[v._v("答案：C；机械与"),s("strong",[v._v("接线器的形状和尺寸")]),v._v("等有关，功能特性与"),s("strong",[v._v("某条线的电平的电压")]),v._v("有关，过程特性则是与"),s("strong",[v._v("不同功能出现的顺序")]),v._v("有关，电气则是与"),s("strong",[v._v("电压范围")]),v._v("有关")]),v._v(" "),s("p",[v._v("【2018年 题34】：不属于"),s("strong",[v._v("物理层接口规范定义")]),v._v("范畴的是（）")]),v._v(" "),s("p",[v._v("A、接口形状\t\t\tB、引脚功能\t\t\tC、物理地址\t\t\tD、信号电平")]),v._v(" "),s("p",[v._v("答案：C；接口属于机械特性，引脚功能属于功能特性，信号电平属于电气特性，而"),s("strong",[v._v("物理地址又叫MAC地址，属于数据链路层")]),v._v("的范畴")]),v._v(" "),s("h1",{attrs:{id:"第三章-数据链路层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三章-数据链路层"}},[v._v("#")]),v._v(" 第三章 数据链路层")]),v._v(" "),s("h2",{attrs:{id:"数据链路层概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据链路层概述"}},[v._v("#")]),v._v(" 数据链路层概述")]),v._v(" "),s("p",[v._v("数据链路：把"),s("strong",[v._v("实现通信协议的硬件和软件")]),v._v("加到链路（一个结点到另一个结点）上")]),v._v(" "),s("p",[v._v("数据链路层"),s("strong",[v._v("以帧为单位")]),v._v("传输和处理数据")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("数据链路层的"),s("strong",[v._v("三个重要问题（点对点信道）")]),v._v("：")]),v._v(" "),s("p",[v._v("封装成帧：应用层、运输层、网络层"),s("strong",[v._v("添加协议首部")]),v._v("，而数据链路层"),s("strong",[v._v("添加帧头和帧尾")]),v._v("，原因是为了在链路上"),s("strong",[v._v("以帧为单元传送数据")])]),v._v(" "),s("p",[v._v("差错检测：检测是否出现"),s("strong",[v._v("误码，即0变为1")]),v._v("，"),s("strong",[v._v("检错码一般放在帧尾")]),v._v("，接收方通过"),s("strong",[v._v("检错码和检错算法")]),v._v("可以知道是否出现误码")]),v._v(" "),s("p",[v._v("可靠传输：对于不可靠的传输，出现误码直接丢弃即可，而可靠传输是"),s("strong",[v._v("发送方发送什么，接收方就能收到什么")])]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("使用"),s("strong",[v._v("广播信道")]),v._v("的数据链路层")]),v._v(" "),s("p",[s("strong",[v._v("共享式以太网")]),v._v("的媒体接入控制协议"),s("strong",[v._v("CSMA/CD（载波监听多点接入/碰撞检测）")])]),v._v(" "),s("p",[s("strong",[v._v("802.11局域网")]),v._v("的媒体接入控制协议"),s("strong",[v._v("CSMA/CA（载波监听多点接入/碰撞避免）")])]),v._v(" "),s("h2",{attrs:{id:"封装成帧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#封装成帧"}},[v._v("#")]),v._v(" 封装成帧")]),v._v(" "),s("p",[v._v("帧头和帧尾的作用之一就是"),s("strong",[v._v("帧定界")]),v._v("，如果"),s("strong",[v._v("数据里面出现帧定界")]),v._v("，数据里"),s("strong",[v._v("添加转义字符")]),v._v("，即标识它是数据")]),v._v(" "),s("p",[v._v("面向"),s("strong",[v._v("字节")]),v._v("的物理链路\t使用**字节填充（字符填充）**的方法实现透明传输")]),v._v(" "),s("p",[v._v("面向"),s("strong",[v._v("比特")]),v._v("的物理链路\t使用"),s("strong",[v._v("比特填充")]),v._v("的方法实现透明传输")]),v._v(" "),s("p",[v._v("特例："),s("strong",[v._v("以太网没有帧定界，使用物理层")]),v._v("来标识")]),v._v(" "),s("p",[v._v("【2013年 题37】：HDLC协议对0111110001111110组帧后对应的比特串为（）")]),v._v(" "),s("p",[v._v("A、011111000011111010\tB、011111000111110101111110\tC、01111100011111010")]),v._v(" "),s("p",[v._v("答案：A；HDLC实现透明传输，采用“零比特填充法”，"),s("strong",[v._v("5个连续1后面插入一个比特0")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(667),alt:"image-20210901203323264"}}),v._v(" "),s("p",[v._v("帧的数据部分小于或等于"),s("strong",[v._v("最大传送单元MTU")])]),v._v(" "),s("h2",{attrs:{id:"差错检测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#差错检测"}},[v._v("#")]),v._v(" 差错检测")]),v._v(" "),s("p",[s("strong",[v._v("传输错误的比特")]),v._v("占所传输"),s("strong",[v._v("比特总数")]),v._v("的比率称为"),s("strong",[v._v("误码率BER")])]),v._v(" "),s("p",[s("strong",[v._v("帧检验序列FCS字段")])]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("循环冗余校验CRC")]),v._v("：")]),v._v(" "),s("p",[v._v("收发双方约定一个"),s("strong",[v._v("生成多项式G(x)")]),v._v("，"),s("strong",[v._v("发送方")]),v._v("基于待发送数据和生成多项式"),s("strong",[v._v("计算差错检测码")]),v._v("，添加到待传输数据一起传输，"),s("strong",[v._v("接收方通过生成多项式计算")]),v._v("收到的数据是否产生误码，"),s("strong",[v._v("余数为0表示无误码")])]),v._v(" "),s("img",{staticStyle:{zoom:"200%"},attrs:{src:t(668),alt:"image-20210901210329179"}}),v._v(" "),s("p",[v._v("例：待发送的信息为101001，生成多项式为G(x)=x^3+ x^2 +1，计算发送方余数")]),v._v(" "),s("p",[v._v("解：1、构造"),s("strong",[v._v("被除数")]),v._v("（即待发送的信息后面补零，"),s("strong",[v._v("补")]),v._v("生成"),s("strong",[v._v("多项式最高次数")]),v._v("个），101001000，最高次数为3，加3个零")]),v._v(" "),s("p",[v._v("2、构造"),s("strong",[v._v("除数")]),v._v("（生成多项式各项系数构成的比特串）即1101")]),v._v(" "),s("p",[v._v("3、做除法")]),v._v(" "),s("p",[v._v("4、余数的位数与生成多项式的最高次数相同，即有3位，前面补0\t001")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("检测码只能检测错误")]),v._v(",不能定位错误,因此"),s("strong",[v._v("无法纠正错误")]),v._v(",")]),v._v(" "),s("p",[v._v("解决方案:检测"),s("strong",[v._v("重传")]),v._v(","),s("strong",[v._v("丢弃")]),v._v("检测到差错的帧")]),v._v(" "),s("h2",{attrs:{id:"可靠传输"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可靠传输"}},[v._v("#")]),v._v(" 可靠传输")]),v._v(" "),s("h3",{attrs:{id:"可靠传输的基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可靠传输的基本概念"}},[v._v("#")]),v._v(" 可靠传输的基本概念")]),v._v(" "),s("p",[v._v("数据链路层"),s("strong",[v._v("向上层提供的服务类型")]),v._v(":")]),v._v(" "),s("p",[v._v("不可靠传输服务("),s("strong",[v._v("有线链路")]),v._v("):丢弃误码的帧")]),v._v(" "),s("p",[v._v("可靠传输服务**(无线链路**):实现发送端发送什么,接收端收到什么(即接收端把误码信息传回发送方,发送方进行重新发送)")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("比特差错")]),v._v("只是传输差错的一种,"),s("strong",[v._v("传输差错")]),v._v("还包括"),s("strong",[v._v("分组丢失")]),v._v("(即其中路由器已满,数据被丢弃)."),s("strong",[v._v("分组失序")]),v._v("(先发送的分组后到达)以及"),s("strong",[v._v("分组重复")]),v._v("(网络影响,发送方又发送一次,导致网络好了之前数据和现在重复)")]),v._v(" "),s("p",[v._v("可靠传输服务"),s("strong",[v._v("并不仅局限于数据链路层")]),v._v(","),s("strong",[v._v("其他层均可选择实现可靠传输")]),v._v(",可靠传输服务开销比较大,是否使用取决于应用需求")]),v._v(" "),s("p",[v._v("例:")]),v._v(" "),s("p",[v._v("网络层:"),s("strong",[v._v("IP向上传提供无连接,不可靠传输服务")])]),v._v(" "),s("p",[v._v("运输层:"),s("strong",[v._v("TCP")]),v._v("向上层提供"),s("strong",[v._v("可靠")]),v._v("传输服务,"),s("strong",[v._v("UDP")]),v._v("提供"),s("strong",[v._v("不可靠")]),v._v("传输服务")]),v._v(" "),s("h3",{attrs:{id:"可靠传输的实现机制-停止-等待协议-swstop-wait-也叫自动请求重传arq"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可靠传输的实现机制-停止-等待协议-swstop-wait-也叫自动请求重传arq"}},[v._v("#")]),v._v(" 可靠传输的实现机制—停止-等待协议（SW\tstop wait，也叫自动请求重传ARQ）")]),v._v(" "),s("p",[v._v("确认与否定：发送方发送DATA，"),s("strong",[v._v("接收方")]),v._v("接收，"),s("strong",[v._v("发ACK表示确认")]),v._v("，如果"),s("strong",[v._v("DATA出现误码")]),v._v("，接收方"),s("strong",[v._v("发送NAK")]),v._v("，并"),s("strong",[v._v("把DATA丢弃")]),v._v("，发送方重新发送DATA")]),v._v(" "),s("p",[v._v("超时重传："),s("strong",[v._v("DATA丢失")]),v._v("，发送方接收不到ACK或NAK，"),s("strong",[v._v("发送方进行超时重传")]),v._v("，重传时间选为"),s("strong",[v._v("略大于")]),v._v("“从发送方到接收方的"),s("strong",[v._v("平均往返时间”")])]),v._v(" "),s("p",[v._v("确认丢失：即"),s("strong",[v._v("ACK丢失")]),v._v("，需要给"),s("strong",[v._v("数据分组编号")]),v._v("，即"),s("strong",[v._v("编号0和1，"),s("strong",[v._v("停止和等待，重传下次数据和上次数据一样，那么就")]),v._v("丢弃现在传的")])]),v._v(" "),s("p",[v._v("确认迟到：即"),s("strong",[v._v("ACK可能重复")]),v._v("，需要给"),s("strong",[v._v("ACK分组编号")]),v._v("，也是0和1，注意的是"),s("strong",[v._v("数据链路层一般不会出现ACK分组迟到")]),v._v("的情况")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("信道利用率U=Td/Td+RTT+Ta")]),v._v(" "),s("p",[s("strong",[v._v("Td即发送方的发送时延")])]),v._v(" "),s("p",[s("strong",[v._v("RTT即2倍传播时延（往返时间）")])]),v._v(" "),s("p",[v._v("Ta即接收方的发送时延，一般忽略不计，远小于发送方的发送时延，没有处理时延")]),v._v(" "),s("p",[s("strong",[v._v("当往返时延远大于发送方的发送时延时（例卫星链路），信道利用率非常低，即分母RTT大")])]),v._v(" "),s("p",[v._v("解决方案：两种协议，"),s("strong",[v._v("后退N帧协议GBN和选择重传协议SR")])]),v._v(" "),s("p",[v._v("【2018年 题36】主机甲采用"),s("strong",[v._v("停-等协议")]),v._v("向主机乙发送数据，"),s("strong",[v._v("数据传输速率为3kbps")]),v._v("，"),s("strong",[v._v("单向传播时延是200ms")]),v._v("，忽略确认帧的传输时延，当**信道利用率等于40%**时。数据帧的长度为（）")]),v._v(" "),s("p",[v._v("A、240比特\t\t\tB、400比特\t\t\tC、480比特\t\t\tD、800比特")]),v._v(" "),s("p",[v._v("答案：D；3kbps即3kb/s；RTT等于两个单向传播时延，而题目忽略帧的传输时延，即处理时延，所以x/3   /x/3+400=0.4，得x为800")]),v._v(" "),s("h3",{attrs:{id:"可靠传输的实现机制-回退n帧协议-gbn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可靠传输的实现机制-回退n帧协议-gbn"}},[v._v("#")]),v._v(" 可靠传输的实现机制—回退N帧协议(GBN)")]),v._v(" "),s("p",[v._v("1、采用3个比特给分组编序号，即0~7")]),v._v(" "),s("p",[v._v("2、发送窗口的尺寸Wt的取值：1~7，本例取5，发送5个数据，"),s("strong",[v._v("Wt不能取8，因为可能会出现数据重复接收")])]),v._v(" "),s("p",[v._v("3、接收窗口的尺寸Wr的取值：Wr=1，即一个一个接收")]),v._v(" "),s("p",[s("strong",[v._v("缺点：出现误码数据，其分组的其他数据也要重传")])]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("累积确认：即使"),s("strong",[v._v("确认分组丢失，发送方也可能不必重传")]),v._v("，因为接收方发送ACK1、ACK4，"),s("strong",[v._v("即使ACK1丢失，发送方也知道4之前的数据已接收")])]),v._v(" "),s("p",[v._v("有差错情况**：即5个数据当中有一个误码**，"),s("strong",[v._v("接收方就发送上次数据ACK（5个）到发送方")]),v._v("，发送方收到重复（5个）的确认，就知道之前所发生的数据分组出现了差错，所以在本例中，"),s("strong",[v._v("即使前4个数据没错，但发送方还要重传这些数据，即Go-back-N")])]),v._v(" "),s("p",[v._v("【2009年 题35】数据链路层使用"),s("strong",[v._v("后退N帧（GBN）协议")]),v._v("，发送方已经发送了编号为0~7的帧，当计时器超时时，若发送方只收到0、2、3号帧的确认，则发送方需要重发的帧数是（）")]),v._v(" "),s("p",[v._v("A、2\t\t\t\t\tB、3\t\t\t\t\tC、4\t\t\t\t\tD、5")]),v._v(" "),s("p",[v._v("答案：C；收到3号帧，说明0~3都已接收，所以只需发送4、5、6、7即四个帧数")]),v._v(" "),s("h3",{attrs:{id:"可靠传输的实现机制-选择重传协议-sr-常用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可靠传输的实现机制-选择重传协议-sr-常用"}},[v._v("#")]),v._v(" 可靠传输的实现机制 —— 选择重传协议（SR），常用")]),v._v(" "),s("p",[v._v("发送方：发送窗口尺寸"),s("strong",[v._v("Wt范围是1<Wt<=2^(n-1)，n是分组序号的比特数量")]),v._v("，"),s("strong",[v._v("范围超出")]),v._v("，接收方"),s("strong",[v._v("无法分辨新、旧数据分组")]),v._v("，一旦超出范围，即可能出现0、1和2")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(669),alt:"image-20210903165840474"}}),v._v(" "),s("p",[v._v("接收方：")]),v._v(" "),s("p",[v._v("1、Wr范围是1<Wr<=Wt，一般取Wt")]),v._v(" "),s("p",[v._v("2、为了使发送方"),s("strong",[v._v("仅重传出现差错的分组")]),v._v("，"),s("strong",[v._v("接收方不能再采用累积确认")]),v._v("，而需要对每个正确"),s("strong",[v._v("接收到的数据分组进行逐一确认")])]),v._v(" "),s("p",[v._v("3、发送方和接收方只有当前窗口数据已接收或收到才能往下滑动")]),v._v(" "),s("p",[v._v("【2011年 题35】数据链路层采用"),s("strong",[v._v("选择重传协议（SR）"),s("strong",[v._v("传输数据，发送方已发送了0~3号数据帧，现")]),v._v("已收到1号帧的确认")]),v._v("，而0、2号帧依次超时，则此时需要重传的帧数是（）")]),v._v(" "),s("p",[v._v("A、1\t\t\t\tB、2\t\t\t\tC、3\t\t\t\tD、4")]),v._v(" "),s("p",[v._v("答案：B；选择重传协议不支持累计确认，收到1号帧的确认，说明还需要对0、2进行重传")]),v._v(" "),s("h2",{attrs:{id:"点对点协议ppp-point-to-point-protocol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#点对点协议ppp-point-to-point-protocol"}},[v._v("#")]),v._v(" 点对点协议PPP（Point-to-Point Protocol）")]),v._v(" "),s("p",[v._v("目前广泛的"),s("strong",[v._v("点对点数据链路层协议")])]),v._v(" "),s("p",[v._v("用户使用PPPoE协议连接ISP（已从因特网管理机构申请到一批IP地址）")]),v._v(" "),s("p",[v._v("PPP协议为在"),s("strong",[v._v("点对点链路传输各种协议数据报")]),v._v("提供了一个标准方法，主要由以下三部分构成")]),v._v(" "),s("p",[v._v("1、对"),s("strong",[v._v("各种协议数据报")]),v._v("的方法（封装成帧）")]),v._v(" "),s("p",[s("strong",[v._v("链路控制协议LCP")]),v._v("\t\t用于"),s("strong",[v._v("建立、配置以及测试数据链路的连接")])]),v._v(" "),s("p",[v._v("一套"),s("strong",[v._v("网络控制协议NCPs")]),v._v(" "),s("strong",[v._v("不同网络层协议不同")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(670),alt:"image-20210903173531935"}}),v._v(" "),s("hr"),v._v(" "),s("h3",{attrs:{id:"帧格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#帧格式"}},[v._v("#")]),v._v(" 帧格式")]),v._v(" "),s("p",[s("img",{attrs:{src:t(671),alt:"image-20210903174234225"}})]),v._v(" "),s("p",[v._v("F：标志字段，PPP帧的定界符")]),v._v(" "),s("p",[v._v("A：地址字段，预留（目前没有什么作用）")]),v._v(" "),s("p",[v._v("C：控制字段，预留（目前没有什么作用）")]),v._v(" "),s("p",[v._v("P："),s("strong",[v._v("协议")]),v._v("字段，说明帧的数据部分送交哪个协议处理")]),v._v(" "),s("p",[v._v("==0x0021(IP)\tC0(LCP链路)\t\t80(NCP网络)==")]),v._v(" "),s("p",[s("img",{attrs:{src:t(672),alt:"image-20210903175819012"}})]),v._v(" "),s("hr"),v._v(" "),s("h3",{attrs:{id:"工作状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作状态"}},[v._v("#")]),v._v(" 工作状态")]),v._v(" "),s("p",[v._v("一开始都是静止的，LCP(链路)进行"),s("font",{attrs:{color:"red"}},[v._v("建立、配置、以及测试数据链路的连接")]),v._v("，其次到鉴别，然后到网络（NCP）")],1),v._v(" "),s("p",[v._v("鉴别协议：无需鉴别、口令鉴别协议PAP、挑战握手鉴别协议CHAP")]),v._v(" "),s("img",{staticStyle:{zoom:"200%"},attrs:{src:t(673),alt:"image-20210903180249590"}}),v._v(" "),s("h3",{attrs:{id:"透明传输-面向字节的异步链路采用插入转义字符的字节填充法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#透明传输-面向字节的异步链路采用插入转义字符的字节填充法"}},[v._v("#")]),v._v(" 透明传输-面向字节的异步链路采用插入转义字符的字节填充法")]),v._v(" "),s("p",[v._v("发送方处理：")]),v._v(" "),s("p",[s("strong",[v._v("出现PPP帧的定界符7E，变为2字节序列7D，5E")])]),v._v(" "),s("p",[s("strong",[v._v("出现转义字符7D，变为2字节序列（7D，5D）")])]),v._v(" "),s("p",[v._v("ASCII码控制字符（数值小于0x20字符），"),s("strong",[v._v("插入一个7D字节，同时将该字符的编码加上0x20")])]),v._v(" "),s("p",[v._v("接收方处理：")]),v._v(" "),s("p",[v._v("进行反变换即可")]),v._v(" "),s("p",[s("img",{attrs:{src:t(674),alt:"image-20210903181003766"}})]),v._v(" "),s("h2",{attrs:{id:"媒体接入控制mac"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#媒体接入控制mac"}},[v._v("#")]),v._v(" 媒体接入控制MAC")]),v._v(" "),s("h3",{attrs:{id:"基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[v._v("#")]),v._v(" 基本概念")]),v._v(" "),s("p",[v._v("共享信道要考虑的问题是"),s("strong",[v._v("如何协调多个发送和接收站点对一个共享传输媒体的占用，即媒体接入控制MAC")])]),v._v(" "),s("p",[v._v("媒体接入控制包括"),s("strong",[v._v("静态划分信道和动态接入控制")]),v._v("，而静态包括"),s("strong",[v._v("频分、时分、码分多址")]),v._v("；动态包括"),s("strong",[v._v("受控、随机接入")])]),v._v(" "),s("p",[s("strong",[v._v("静态：预先固定分配好信道，不灵活，在无线网络的物理层")])]),v._v(" "),s("p",[v._v("动态："),s("strong",[v._v("共享式以太网就是随机接入")])]),v._v(" "),s("p",[v._v("有线："),s("strong",[v._v("点对点链路和链路层交换机")]),v._v("的交换式局域网")]),v._v(" "),s("p",[v._v("无线：共享媒体技术")]),v._v(" "),s("h3",{attrs:{id:"静态划分信道"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态划分信道"}},[v._v("#")]),v._v(" 静态划分信道")]),v._v(" "),s("p",[v._v("信道复用，即一条物理线路同时传输多路用户的信号")]),v._v(" "),s("p",[v._v("信道复用包括4种")]),v._v(" "),s("p",[s("strong",[v._v("频分复用（多址）FDM")]),v._v("：所有用户同时占用不同的频带资源"),s("strong",[v._v("并行通信")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(675),alt:"image-20210903212544543"}})]),v._v(" "),s("p",[s("strong",[v._v("时分复用TDM")]),v._v("：所有用户在不同的时间"),s("strong",[v._v("占用同样的频带宽度")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(676),alt:"image-20210903212709647"}})]),v._v(" "),s("p",[s("strong",[v._v("波分复用WDM")]),v._v("：")]),v._v(" "),s("p",[s("img",{attrs:{src:t(677),alt:"image-20210903212834027"}})]),v._v(" "),s("p",[s("strong",[v._v("码分复用CDM")]),v._v("：另一种共享信道的方法，")]),v._v(" "),s("p",[v._v("1、用户可以"),s("strong",[v._v("在同样的时间使用同样的频带继续通信")]),v._v("，用户之间不会造成干扰")]),v._v(" "),s("p",[v._v("2、直接序列扩频DSSS："),s("strong",[v._v("每一个比特时间再划分为m个短的间隔，称为码片")]),v._v("，通常m的值是64或128")]),v._v(" "),s("p",[v._v("每一个站被指派一个"),s("strong",[v._v("唯一的m bit码片序列")]),v._v("，"),s("strong",[v._v("发送比特1，即发生自己的m bit码片序列")]),v._v("，"),s("strong",[v._v("发送0，发自己的二进制反码")])]),v._v(" "),s("p",[v._v("例：CDMA系统中某个站点的码片序列为00011011，发送比特1还是00011011，而发送0是11100100，最后把1换为+1，0换为-1")]),v._v(" "),s("p",[v._v("码片序列的挑选原则：")]),v._v(" "),s("p",[v._v("1、每个站的"),s("strong",[v._v("码片序列必须各不相同")])]),v._v(" "),s("p",[v._v("2、每个站的码片序列"),s("strong",[v._v("必须相互正交（规格化内积为0）")])]),v._v(" "),s("p",[v._v("例：S·T=0，S·T的反码=0，S·S·=1，S·S的反码=-1")]),v._v(" "),s("p",[s("strong",[v._v("不严格区分复用与多址")]),v._v("的概念：复用是将单一媒体的频带资源划分成很多子信道，而多址是动态分配信道给用户")]),v._v(" "),s("p",[v._v("【2014年题37】 站点A、B、C通过CDMA共享链路，A、B、C的码片序列分别是（1，1，1，1）、（1，-1，1，-1）和（1，1，-1，-1）。若C从链路上收到的序列是（2，0，2，0，0，-2，0，-2，0，2，0，2），则C收到A发送的数据是（）")]),v._v(" "),s("p",[v._v("A、000\t\t\t\tB、101\t\t\t\tC、110\t\t\t\tD、111")]),v._v(" "),s("p",[v._v("答案：B；A和C相乘，四个四个相乘，最后除4，结果为"),s("strong",[v._v("1说明发送的是比特1，结果为-1说明发送比特0")]),v._v("，而结果为0说明未发生内容")]),v._v(" "),s("h3",{attrs:{id:"动态接入控制-随机接入-csma-cd-总线局域网"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态接入控制-随机接入-csma-cd-总线局域网"}},[v._v("#")]),v._v(" 动态接入控制 — 随机接入 — CSMA/CD（总线局域网）")]),v._v(" "),s("p",[s("strong",[v._v("载波监听多址接入/碰撞检测 CSMA/CD")])]),v._v(" "),s("p",[v._v("1、多址接入MA：多个站连接在一条总线")]),v._v(" "),s("p",[v._v("2、载波监听CS：每一个站发生帧之前"),s("strong",[v._v("检测总线是否有其他站点发送帧")]),v._v("，即总线是否有96比特空闲")]),v._v(" "),s("p",[v._v("3、碰撞检测CD："),s("strong",[v._v("正在发送帧的站检测是否碰撞")])]),v._v(" "),s("p",[v._v("以太网采取一种叫做"),s("strong",[v._v("强化碰撞的措施")]),v._v("，即碰撞除了"),s("strong",[v._v("立即停止还发送帧，以便其它站点知道总线繁忙")])]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("CSMA/CD协议-争用期（碰撞窗口）")])]),v._v(" "),s("p",[v._v("主机最多经过"),s("strong",[v._v("2兀（端到端往返传播时延）时长知道本次是否发生碰撞")]),v._v("，这个时长称为"),s("strong",[v._v("争用期或碰撞窗口")]),v._v("，所以共享式以太网不能连接太多的主机")]),v._v(" "),s("p",[s("strong",[v._v("CSMA/CD协议-最小和最大帧长")])]),v._v(" "),s("p",[s("strong",[v._v("最小帧长=争用期*数据传输速率")])]),v._v(" "),s("p",[v._v("**以太网最小帧长为64字节，**这确保碰撞后站点知道碰撞，然后重新发送，所以凡是长度小于64字节的帧都是碰撞后重新发送的帧")]),v._v(" "),s("p",[v._v("以太网V2的MAC帧（最大长度为1518字节），802.1帧（最大长度为1522字节）")]),v._v(" "),s("p",[s("strong",[v._v("CSMA/CD协议-截断二进制指数退避算法")])]),v._v(" "),s("p",[v._v("退避时间=基本退避时间（争用期2兀）* 随机数(2^k-1)，其中k=Min(重传次数，10)，"),s("strong",[v._v("好处是减小碰撞的概率")])]),v._v(" "),s("p",[s("strong",[v._v("CSMA/CD协议-信道利用率")])]),v._v(" "),s("p",[v._v("理想情况：极限信道利用率 S= T0/T0+兀，以太网帧的长度应尽量长些，端到端距离小点（兀）")]),v._v(" "),s("p",[s("img",{attrs:{src:t(678),alt:"image-20210904161624303"}})]),v._v(" "),s("p",[s("strong",[v._v("CSMA/CD协议-帧接收流程")])]),v._v(" "),s("p",[v._v("==1、检测帧的长度==")]),v._v(" "),s("p",[v._v("==2、帧的目的MAC地址与接收方MAC地址是否相同==")]),v._v(" "),s("p",[v._v("==3、CRC检测帧是否出现误码==")]),v._v(" "),s("p",[v._v("【2015年 题36】下列关于CSMA/CD协议的叙述中，错误的是（）")]),v._v(" "),s("p",[v._v("A，边发送数据帧，边检测是否发生冲突")]),v._v(" "),s("p",[v._v("B、"),s("strong",[v._v("适用于无线网络，以实现无线链路共享")])]),v._v(" "),s("p",[v._v("C、需要根据网络跨距和数据传输速率限定最小帧长")]),v._v(" "),s("p",[v._v("D、当信号传播延迟趋近于0时，信道利用率趋近100%")]),v._v(" "),s("p",[v._v("答案：B；这是有线链路，"),s("strong",[v._v("网络跨距相当于端到端传播时延")]),v._v("，当兀（即传播时延趋近0时），即信道利用率趋近100%")]),v._v(" "),s("p",[v._v("【2009年 题37】在一个采用CSMA/CD协议的网络中，传输介质是一根完整的电缆，"),s("strong",[v._v("传输速率为1Gbps")]),v._v("，电缆中的信号"),s("strong",[v._v("传播速度是200 000km/s")]),v._v("。若最小数据帧长度减少800比特，则最远的两个站点之间的距离至少需要（）")]),v._v(" "),s("p",[v._v("A、增加160m\t\t\tB、增加80m\t\t\tC、减少160m\t\t\tD、减少80m")]),v._v(" "),s("p",[v._v("答案：D，先求传播速率，设距离为d，最小帧长为L，所以的L=（d/(2 * 10^8)）* 2 * 10^9,得10d=L")]),v._v(" "),s("p",[v._v("【2010年 题47】某局域网采用CSMA/CD协议实现介质访问控制，"),s("strong",[v._v("数据传输速率为10Mbps，"),s("strong",[v._v("主机甲和主机乙之间得")]),v._v("距离为2km")]),v._v("，"),s("strong",[v._v("信号传播速度是200 000km/s")]),v._v("，计算主机甲和主机乙碰撞到两台主机检测到冲突为止，其中"),s("strong",[v._v("最短时间和最长时间是多少？")])]),v._v(" "),s("p",[v._v("答案：0.01 和0.02")]),v._v(" "),s("p",[v._v("最短时间："),s("strong",[v._v("即同时发生数据，到中间碰撞")]),v._v("，中间返回，所以是距离是2km的传播时延，2000/200 000=0.01")]),v._v(" "),s("p",[v._v("最长时间**：即甲快到乙的时候，乙发送数据，产生碰撞**，甲返回，所以距离是4km的传播时延，4000/200 000=0.02")]),v._v(" "),s("h3",{attrs:{id:"动态接入控制-随机接入-csma-ca-无线局域网"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态接入控制-随机接入-csma-ca-无线局域网"}},[v._v("#")]),v._v(" 动态接入控制 — 随机接入 — CSMA/CA（无线局域网）")]),v._v(" "),s("p",[s("strong",[v._v("载波监听多址接入/碰撞避免 CSMA/CA")])]),v._v(" "),s("p",[v._v("802.11的MAC层标准定义了两种不同的媒体接入控制方式：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("分布式")]),v._v("协调功能DCF（争用信道来获取发送权）")]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("点")]),v._v("协调功能PCF：使用集中控制的接入算法（很少用）")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("帧间间隔IFS：")])]),v._v(" "),s("p",[v._v("所有的站点必须"),s("strong",[v._v("在持续检测到信道空闲一段指定时间后才能发送帧")])]),v._v(" "),s("p",[v._v("常用的两种帧间间隔：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("短帧间间隔SIFS")]),v._v("（28us）：一个站点"),s("strong",[v._v("在这段时间内")]),v._v("从"),s("strong",[v._v("发送方式切换到接收方式")])]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("DCF帧间间隔DIFS")]),v._v("（128us）：在DCF方式中用来发送==数据帧和管理帧==")]),v._v(" "),s("p",[s("strong",[v._v("CSMA/CA协议的工作原理")])]),v._v(" "),s("p",[v._v("1、源站为什么在检测到信道空闲后还要再等待一段时间DIFS")]),v._v(" "),s("p",[v._v("答案："),s("strong",[v._v("考虑到高优先级帧，让它先发送")])]),v._v(" "),s("p",[v._v("2、目的站为什么正确接收数据帧后还要等待一段时间SIFS才能发送ACK帧？")]),v._v(" "),s("p",[v._v("答案："),s("strong",[v._v("用来分隔开属于一次对话的各帧")])]),v._v(" "),s("p",[v._v("3、信道由忙转为空闲且经过DIFS，为什么还要退避一段随机时间？")]),v._v(" "),s("p",[v._v("答案："),s("strong",[v._v("防止各个站点同时发送数据而碰撞")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(679),alt:"image-20210904192857222"}})]),v._v(" "),s("p",[s("strong",[v._v("必须使用退避算法")]),v._v("：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("在发送数据帧之前检测到信道处于忙状态时；")])]),v._v(" "),s("p",[v._v("2、每一次"),s("strong",[v._v("重传一个数据帧")]),v._v("时")]),v._v(" "),s("p",[v._v("3、每一次"),s("strong",[v._v("成功发送后要连续发送下一个帧")]),v._v("时")]),v._v(" "),s("p",[v._v("退避原理："),s("strong",[v._v("检测到信道忙，则进行退避")]),v._v("，忙到空闲，退避时间继续计时，然而信道又忙了，此时"),s("strong",[v._v("冻结剩余退避时间")])]),v._v(" "),s("p",[s("strong",[v._v("CSMA/CA协议的信道预约和虚拟载波监听")])]),v._v(" "),s("p",[v._v("信道预约：源站先发送请求发送RTS，经过SIFS，目的站发送响应CTS，，经过SIFS，发送数据帧，"),s("strong",[v._v("RTS帧和CTS帧很短")]),v._v("，用很小的代价对信道进行预约")]),v._v(" "),s("p",[v._v("虚拟载波监听："),s("strong",[v._v("除了RTS帧和CTS帧会携带通信需要持续的时间，数据帧也能携带")]),v._v("，即携带需要用信道多久")]),v._v(" "),s("p",[s("img",{attrs:{src:t(680),alt:"image-20210904200257231"}})]),v._v(" "),s("p",[v._v("【2011年 题36】：下列选项中，对"),s("strong",[v._v("正确接收到的数据帧进行确认的MAC协议")]),v._v("是（）")]),v._v(" "),s("p",[v._v("A、CSMA\t\t\t\tB、CDMA\t\t\t\tC、CSMA/CD\t\t\t\tD、CSMA/CA")]),v._v(" "),s("p",[v._v("答案：D；CSMA是指载波监听多址接入，不使用确认机制，"),s("strong",[v._v("CMDA是静态划分信道")]),v._v("，"),s("strong",[v._v("CSMA/CA使用停止-等待协议")])]),v._v(" "),s("p",[v._v("【2013年 题36】：下列介质访问控制方法中，可能"),s("strong",[v._v("发生冲突")]),v._v("的是（）")]),v._v(" "),s("p",[v._v("A、CDMA\t\t\t\tB、CSMA\t\t\t\tC、TDMA\t\t\t\tD、FDMA")]),v._v(" "),s("p",[v._v("答案：B；C（码分）T（时分）F（频分）属于静态划分信道")]),v._v(" "),s("p",[v._v("【2018年 题35】IEEE802.11无线局域网的MAC协议CSMA/CA进行"),s("strong",[v._v("信道预约")]),v._v("的方法是（）")]),v._v(" "),s("p",[v._v("A、发送确认帧\t\tB、采用二进制指数退避\t\tC、使用多个MAC地址\t\tD、交换RTS与CTS帧")]),v._v(" "),s("p",[v._v("答案：D；即CSMA/CA中的RTS和CTS帧")]),v._v(" "),s("h2",{attrs:{id:"mac地址、ip地址以及arp协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mac地址、ip地址以及arp协议"}},[v._v("#")]),v._v(" MAC地址、IP地址以及ARP协议")]),v._v(" "),s("h3",{attrs:{id:"mac地址-物理地址、硬件地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mac地址-物理地址、硬件地址"}},[v._v("#")]),v._v(" MAC地址（物理地址、硬件地址）")]),v._v(" "),s("p",[v._v("当多个主机连接在同一个广播信道上，每个主机发送的"),s("strong",[v._v("帧中必须携带标识发送主机和接收主机的地址")])]),v._v(" "),s("p",[v._v("MAC地址是"),s("strong",[v._v("对网络上各接口的唯一标识")]),v._v("，而"),s("strong",[v._v("不是对网络上各设备的唯一标识")]),v._v("，属于物理链路层")]),v._v(" "),s("p",[s("img",{attrs:{src:t(681),alt:"image-20210904210833361"}})]),v._v(" "),s("p",[s("strong",[v._v("IEEE 802局域网的MAC地址格式")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(682),alt:"image-20210904210952837"}})]),v._v(" "),s("p",[v._v("标准表示法：XX-XX-XX……（加-）")]),v._v(" "),s("p",[v._v("其他表示法：XX:XX:XX……加（:）、XXXX.XXXX.XXXX……")]),v._v(" "),s("p",[s("img",{attrs:{src:t(683),alt:"image-20210904211137381"}})]),v._v(" "),s("p",[s("strong",[v._v("广播")]),v._v("MAC地址，即"),s("strong",[v._v("每个主机都能接收")]),v._v("，"),s("strong",[v._v("单播")]),v._v("MAC地址，只能"),s("strong",[v._v("对应的主机接收")]),v._v("，而"),s("strong",[v._v("多播")]),v._v("MAC地址是"),s("strong",[v._v("该位十六进制不能整除2")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(684),alt:"image-20210904211717199"}})]),v._v(" "),s("h3",{attrs:{id:"ip地址-网络层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ip地址-网络层"}},[v._v("#")]),v._v(" IP地址（网络层）")]),v._v(" "),s("p",[v._v("IP地址是因特网上的主机和路由器所构成的")]),v._v(" "),s("p",[s("strong",[v._v("网络编号（即路由器）：标识因特网")])]),v._v(" "),s("p",[s("strong",[v._v("主机编号：标识同一网络上不同主机（路由器的接口，即连接一个路由器的多个主机）")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(685),alt:"image-20210904214151443"}})]),v._v(" "),s("p",[v._v("数据包转发过程中IP地址与MAC地址的变化情况：")]),v._v(" "),s("p",[s("strong",[v._v("源IP地址和目的IP地址保存不变；而源MAC地址和目的MAC地址逐个链路改变")])]),v._v(" "),s("h3",{attrs:{id:"arp协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#arp协议"}},[v._v("#")]),v._v(" ARP协议")]),v._v(" "),s("p",[v._v("即IP--获取MAC，例：两个主机"),s("strong",[v._v("知道各自的IP，当不知道各自的MAC")]),v._v("，此时用ARP协议就可以查询")]),v._v(" "),s("p",[s("strong",[v._v("主机B先发送ARP请求报文（广播）")]),v._v("，主机C发现是请求要自己的MAC地址，所以主机C"),s("strong",[v._v("把B的IP地址和自己的MAC地址记录到ARP高速缓存表中，最后发送单播")])]),v._v(" "),s("p",[v._v("动态：自动获取，生命周期默认为两分钟")]),v._v(" "),s("p",[v._v("静态：手工设置，不同操作系统不一样")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(686),alt:"image-20210905095837597"}}),v._v(" "),s("h2",{attrs:{id:"集线器和交换机的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集线器和交换机的区别"}},[v._v("#")]),v._v(" 集线器和交换机的区别")]),v._v(" "),s("p",[v._v("集线器（淘汰）：")]),v._v(" "),s("p",[v._v("1、使用"),s("strong",[v._v("集线器的以太网逻辑上还是一个总线网，使用的是CSMA/CD协议")])]),v._v(" "),s("p",[v._v("2、集线器"),s("strong",[v._v("只工作在物理层")])]),v._v(" "),s("p",[v._v("3、集线器有少量的"),s("strong",[v._v("容错能力和网络管理功能")])]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(687),alt:"image-20210905101453698"}}),v._v(" "),s("p",[v._v("以太网交换机（流行）：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("有多个接口，无碰撞（不使用CSMA/CD）")])]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("工作在数据链路层")]),v._v("，收到帧后在"),s("strong",[v._v("帧交换表查找帧的目的MAC地址对应的接口号")]),v._v("，其中帧交换表是通过"),s("strong",[v._v("自学习算法自动建立")]),v._v("起来的")]),v._v(" "),s("p",[v._v("3、帧的两种转发方式："),s("strong",[v._v("存储转发（需要缓存），直通交换")]),v._v("（交换时延很小，"),s("strong",[v._v("收到数据知道目的地址就转发")]),v._v("，"),s("strong",[v._v("缺点是没检测帧是否有差错")]),v._v("）")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(688),alt:"image-20210905101908426"}}),v._v(" "),s("p",[v._v("对比集线器和交换机：")]),v._v(" "),s("p",[v._v("**集线器扩大了广播域和碰撞域，而交换机只扩大了广播域，**两则的广播域没什么区别，交换机几乎没有碰撞，而且价格也很实惠。现在很流行")]),v._v(" "),s("p",[s("img",{attrs:{src:t(689),alt:"image-20210905102726987"}})]),v._v(" "),s("h2",{attrs:{id:"以太网交换机自学习和转发帧的流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以太网交换机自学习和转发帧的流程"}},[v._v("#")]),v._v(" 以太网交换机自学习和转发帧的流程")]),v._v(" "),s("p",[s("strong",[v._v("每一条记录都有自己的有效时间，到期自动删除")]),v._v("，因为"),s("strong",[v._v("MAC地址域交换机接口的对应关系并不是永久性的")])]),v._v(" "),s("p",[v._v("B-C：交换机1先登记B，其次在盲目转发，即交换机2和3都记录B，其中C不用记录")]),v._v(" "),s("p",[s("img",{attrs:{src:t(690),alt:"image-20210905105119505"}})]),v._v(" "),s("p",[v._v("【2009年 题36】以太网交换机进行转发决策时使用的PDU地址是（）")]),v._v(" "),s("p",[v._v("A、目的物理地址\t\tB、目的IP地址\t\t\tC、源物理地址\t\t\tD、源IP地址")]),v._v(" "),s("p",[v._v("答案：A；帧交换表中"),s("strong",[v._v("查找帧的目的MAC地址所对应的接口号")]),v._v("，"),s("strong",[v._v("MAC地址又称为硬件地址或物理地址")])]),v._v(" "),s("p",[v._v("【2014年 题34】某以太网拓扑交换机当前转发表如下图所示，主机a1向主机c1发送一个数据帧，主机c1收到该帧后，向a1发送1个确认帧，交换机对这两个帧的转发端口分别是（）")]),v._v(" "),s("p",[v._v("A、{3}和{1}\t\t\tB、{2，3}和{1}\t\t\tC、{2，3}和{1，2}\t\tD、{1、2、3}和{1}")]),v._v(" "),s("p",[v._v("答案：B；"),s("strong",[v._v("一开始帧交换表只有端口2的目的地址")]),v._v("，所以先记录a1的地址，其次"),s("strong",[v._v("盲目转发")]),v._v("，主机c1向a1发送1个确认帧，先记录3，其次"),s("strong",[v._v("查找交换表，找到a1")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(691),alt:"image-20210905111108718"}})]),v._v(" "),s("h2",{attrs:{id:"以太网交换机的生成树协议stp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以太网交换机的生成树协议stp"}},[v._v("#")]),v._v(" 以太网交换机的生成树协议STP")]),v._v(" "),s("p",[v._v("网络环路带来一下问题：")]),v._v(" "),s("p",[s("strong",[v._v("1、广播风暴：消耗大量网络资源")])]),v._v(" "),s("p",[s("strong",[v._v("2、主机收到重复的广播帧")])]),v._v(" "),s("p",[s("strong",[v._v("3、交换机的帧交换表震荡")])]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(692),alt:"image-20210905112547032"}}),v._v(" "),s("p",[v._v("解决方法：以太网交换机"),s("strong",[v._v("使用生成树协议STP")]),v._v("，避免网络环路带来的各种问题")]),v._v(" "),s("p",[s("strong",[v._v("交换机都能够自动计算并构建一个逻辑上没有环路的网络，最终生成树要确保连通整个网络")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(693),alt:"image-20210905112940463"}}),v._v(" "),s("h2",{attrs:{id:"虚拟局域网vlan"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#虚拟局域网vlan"}},[v._v("#")]),v._v(" 虚拟局域网VLAN")]),v._v(" "),s("h3",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[v._v("#")]),v._v(" 概述")]),v._v(" "),s("p",[v._v("巨大的广播域弊端：")]),v._v(" "),s("p",[v._v("1、==广播风暴，浪费网络资源和各主机的CPU资源==")]),v._v(" "),s("p",[v._v("2、难以管理和维护")]),v._v(" "),s("p",[v._v("3、潜在的安全问题")]),v._v(" "),s("p",[v._v("解决方法：使用虚拟局域网，即"),s("strong",[v._v("将局域网内的设备划分成与物理位置无关的逻辑组的技术")]),v._v("，将大的广播域划分为小的广播域")]),v._v(" "),s("h3",{attrs:{id:"实现机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现机制"}},[v._v("#")]),v._v(" 实现机制")]),v._v(" "),s("p",[s("strong",[v._v("IEEE 802.1Q帧")]),v._v("：")]),v._v(" "),s("p",[v._v("IEEE 802.1Q帧对以太网的MAC帧格式进行扩展，"),s("strong",[v._v("插入4字节的VLAN标记")]),v._v("，其中标记的"),s("strong",[v._v("最后12比特称为VLAN标识符VID")]),v._v("，范围是1~4094")]),v._v(" "),s("p",[s("strong",[v._v("802.1帧是由交换机来处理的，而不是用户主机来处理")]),v._v("，")]),v._v(" "),s("p",[s("strong",[v._v("收到帧\t“打标签”：插入4个字节")])]),v._v(" "),s("p",[s("strong",[v._v("转发帧\t“去标签”\t删除4个字节")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(694),alt:"image-20210905120050877"}})]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("交换机的端口类型")]),v._v("：")]),v._v(" "),s("p",[v._v("交换机各端口的缺省："),s("strong",[v._v("在华为中，VLAN ID ，简记PVID")])]),v._v(" "),s("p",[v._v("1、Access：")]),v._v(" "),s("p",[v._v("交换机和用户计算机的互连")]),v._v(" "),s("p",[s("strong",[v._v("Access端口只能属于一个VLAN")])]),v._v(" "),s("p",[v._v("发送处理方法：去标签，转发该帧")]),v._v(" "),s("p",[v._v("接收处理方法：打标签，字段的VID取值与端口的PVID取值相等")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(695),alt:"image-20210905121241352"}}),v._v(" "),s("p",[v._v("2、Trunk：")]),v._v(" "),s("p",[v._v("交换机之间或交换机与路由器之间的互连")]),v._v(" "),s("p",[v._v("Trunk端口可以属于多个VLAN")]),v._v(" "),s("p",[v._v("发送处理方法："),s("strong",[v._v("对VID等于PVID的帧，“去标签”再转发，不等于则直接转发")])]),v._v(" "),s("p",[v._v("接收处理方法："),s("strong",[v._v("接收未打标签的帧，给它打标签")]),v._v("；"),s("strong",[v._v("接收已打标签的帧")])]),v._v(" "),s("p",[v._v("例：图一A发送的广播帧会正确转发到B、E、F；而C会错误转发到E、F；图二都正确转发")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(696),alt:"image-20210905151229868"}}),v._v(" "),s("p",[v._v("3、Hybrid")]),v._v(" "),s("p",[v._v("和Trunk类似")]),v._v(" "),s("p",[v._v("发送处理方法（与Trunk端口不同）查看帧的VID"),s("strong",[v._v("是否在端口的“去标签”列表中")]),v._v("：")]),v._v(" "),s("p",[s("strong",[v._v("存在：则“去标签”后再转发；不存在，则直接转发")])]),v._v(" "),s("p",[v._v("接收处理方法：和Trunk类似")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(697),alt:"image-20210905151930731"}}),v._v(" "),s("h1",{attrs:{id:"第四章-网络层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第四章-网络层"}},[v._v("#")]),v._v(" 第四章 网络层")]),v._v(" "),s("h2",{attrs:{id:"网络层概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络层概述"}},[v._v("#")]),v._v(" 网络层概述")]),v._v(" "),s("p",[v._v("主要任务是"),s("strong",[v._v("实现网络互连，进而实现数据包在各网络之间的传输")])]),v._v(" "),s("p",[s("strong",[v._v("要实现任务，主要解决以下问题：")])]),v._v(" "),s("p",[v._v("1、网络层向运输层提供怎样的服务（"),s("strong",[v._v("可靠传输还是不可靠传输")]),v._v("）")]),v._v(" "),s("p",[v._v("2、网络层"),s("strong",[v._v("寻址")]),v._v("问题")]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("路由选择")]),v._v("问题")]),v._v(" "),s("p",[s("strong",[v._v("因特网是目前全世界用户数量最多的互联网，它使用TCP/IP协议栈")]),v._v("，而"),s("strong",[v._v("网际协议IP是整个协议栈的核心协议")])]),v._v(" "),s("h2",{attrs:{id:"网络层提供的两种服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络层提供的两种服务"}},[v._v("#")]),v._v(" 网络层提供的两种服务")]),v._v(" "),s("p",[s("strong",[v._v("面向连接的虚电路服务与无连接的数据报服务")])]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",[v._v("对比")]),v._v(" "),s("th",[v._v("虚电路")]),v._v(" "),s("th",[v._v("数据报")])])]),v._v(" "),s("tbody",[s("tr",[s("td",[v._v("思路")]),v._v(" "),s("td",[v._v("可靠通信由网络来保证")]),v._v(" "),s("td",[v._v("可靠通信由用户主机保证")])]),v._v(" "),s("tr",[s("td",[v._v("连接的建立")]),v._v(" "),s("td",[v._v("建立网络层连接")]),v._v(" "),s("td",[v._v("不需要")])]),v._v(" "),s("tr",[s("td",[v._v("终点地址")]),v._v(" "),s("td",[v._v("仅在连接建立阶段使用")]),v._v(" "),s("td",[v._v("每一个分组都有终点的完整地址")])]),v._v(" "),s("tr",[s("td",[v._v("分组的顺序")]),v._v(" "),s("td",[v._v("按发送顺序到达终点")]),v._v(" "),s("td",[v._v("到达终点时不一定按发送顺序")])])])]),v._v(" "),s("h2",{attrs:{id:"ipv4地址及其应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ipv4地址及其应用"}},[v._v("#")]),v._v(" IPv4地址及其应用")]),v._v(" "),s("h3",{attrs:{id:"概述-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述-2"}},[v._v("#")]),v._v(" 概述")]),v._v(" "),s("p",[s("strong",[v._v("IPv4地址")]),v._v("是因特网"),s("strong",[v._v("给每一台主机（或路由器）"),s("strong",[v._v("的每一个接口")]),v._v("分配一个在全世界范围内唯一的32比特的标识符")])]),v._v(" "),s("p",[v._v("IPv4地址的编址方法经历三个历史阶段：")]),v._v(" "),s("p",[v._v("1、分类编址\t\t\t2、划分子网\t\t\t3、无分类编制")]),v._v(" "),s("h3",{attrs:{id:"分类编址的ipv4地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分类编址的ipv4地址"}},[v._v("#")]),v._v(" 分类编址的IPv4地址")]),v._v(" "),s("p",[s("strong",[v._v("只有A、B、C类地址可分配给网络中的主机或路由器的各接口")])]),v._v(" "),s("p",[s("strong",[v._v("主机号为“全0”的地址是网络地址，主机号全为1的地址是广播地址，都不可以分配")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(698),alt:"image-20210905162837255"}}),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("A类地址（0~127）")]),v._v("："),s("strong",[v._v("最大网络号127（01111111），作为本地环回测试地址，不指派")])]),v._v(" "),s("p",[v._v("可指派的网络数量：2^(8-1)-2=126，其中减2原因是除去"),s("strong",[v._v("最小网络号0和最大网络号127")])]),v._v(" "),s("p",[v._v("可分配的IP地址数量：2^(24)-2，减2原因是除去主机号为"),s("strong",[v._v("全0的网络地址和全1的广播地址")])]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("B类地址（128~191）")]),v._v("：最小网络号128.0，最大网络号191.255，"),s("strong",[v._v("注意：可指派网络数量包括最小和最大的网络号")])]),v._v(" "),s("p",[s("strong",[v._v("C类地址（192~223）")]),v._v("：最小网络号192.00，最大网络号233.255.255，"),s("strong",[v._v("注意：可指派网络数量包括最小和最大的网络号")])]),v._v(" "),s("p",[v._v("例：")]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",[v._v("IP")]),v._v(" "),s("th",[v._v("类别")]),v._v(" "),s("th",[v._v("是否可以指派")])])]),v._v(" "),s("tbody",[s("tr",[s("td",[v._v("0.1.2.3")]),v._v(" "),s("td",[v._v("A")]),v._v(" "),s("td",[v._v("不可以指派")])]),v._v(" "),s("tr",[s("td",[v._v("126.255.255.255")]),v._v(" "),s("td",[v._v("A")]),v._v(" "),s("td",[v._v("广播地址")])]),v._v(" "),s("tr",[s("td",[v._v("128.0.255.255")]),v._v(" "),s("td",[v._v("B")]),v._v(" "),s("td",[v._v("广播地址")])]),v._v(" "),s("tr",[s("td",[v._v("191.255.255.252")]),v._v(" "),s("td",[v._v("B")]),v._v(" "),s("td",[v._v("可以")])]),v._v(" "),s("tr",[s("td",[v._v("192.0.0.255")]),v._v(" "),s("td",[v._v("C")]),v._v(" "),s("td",[v._v("广播地址")])])])]),v._v(" "),s("p",[v._v("【2017年 题36】下列IP地址中，只能作为IP分组的源IP地址但不能作为目的IP地址的是（）")]),v._v(" "),s("p",[v._v("A、0.0.0.0\t\t\t\tB、127.0.0.1\t\t\t\tC、20.10.10.3\t\t\t\tD、255.255.255.255")]),v._v(" "),s("p",[v._v("答案：A；"),s("strong",[v._v("0.0.0.0表示在本网络上的本主机，只能作为源地址使用")]),v._v("；"),s("strong",[v._v("255.255.255.255")]),v._v("表示只在本网络上进行广播（各路由器不转发），"),s("strong",[v._v("只能作为目的地址使用")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(699),alt:"image-20210905171509817"}})]),v._v(" "),s("h3",{attrs:{id:"划分子网的ipv4地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#划分子网的ipv4地址"}},[v._v("#")]),v._v(" 划分子网的IPv4地址")]),v._v(" "),s("p",[v._v("子网掩码使用"),s("strong",[v._v("连续的比特1来对应网络号和子网号")]),v._v("，"),s("strong",[v._v("连续的比特0对应的主机号")])]),v._v(" "),s("p",[v._v("将"),s("strong",[v._v("划分子网的IPv4地址")]),v._v("与其"),s("strong",[v._v("相应的子网掩码")]),v._v("进行"),s("strong",[v._v("逻辑与运算")]),v._v("（两个1才是1，与1是本身）"),s("strong",[v._v("可得到")]),v._v("IPv4地址所在"),s("strong",[v._v("子网的网络地址")])]),v._v(" "),s("p",[v._v("例：已知某个"),s("strong",[v._v("网络的地址为218.75.230.0")]),v._v("，使用"),s("strong",[v._v("子网掩码255.255.255.128对其进行子网划分")]),v._v("，请给出划分细节")]),v._v(" "),s("p",[v._v("答案："),s("strong",[v._v("218知道其是C类")]),v._v("，255.255.255.10000000，"),s("strong",[v._v("一个比特1表示从主机号借用一个比特作为子网号")])]),v._v(" "),s("p",[s("strong",[v._v("划分子网数量 0 1即 2^1=2")]),v._v("\t\t\t每个子网可分配的地址数量 "),s("strong",[v._v("2^(8-1)-2=126即把256分为两份，减2是去掉主机号全为0的网络地址和全为1的广播地址")])]),v._v(" "),s("p",[v._v("【2012年 题39】某主机的IP地址为"),s("strong",[v._v("180.80.77.55")]),v._v("，"),s("strong",[v._v("子网掩码为255.255.252.0")]),v._v("，如该主机向其所在子网"),s("strong",[v._v("发送广播分组，则目的地址")]),v._v("可以是（）")]),v._v(" "),s("p",[v._v("A、180.80.76.0\t\t\t\tB、180.80.76.255\t\t\t\tC、180.80.77.0\t\t\t\tD、180.80.79.255")]),v._v(" "),s("p",[v._v("答案：D；"),s("strong",[v._v("180可知是B类，由子网掩码为255.255.252.0可知6个比特")]),v._v("，即11111100，而77（01001101），把最后01调换为11即广播地址")]),v._v(" "),s("h3",{attrs:{id:"无分类编址的ipv4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#无分类编址的ipv4"}},[v._v("#")]),v._v(" 无分类编址的IPv4")]),v._v(" "),s("p",[v._v("无分类域间"),s("strong",[v._v("路由选择CIDR")]),v._v("，其消除了传统的A、B、C类地址，以及划分子网的概念，有效分配地址空间")]),v._v(" "),s("p",[v._v("CIDR使用“斜线记法”，在地址后加上/，"),s("strong",[v._v("在斜线后面写上网络前缀所占的比特数量")])]),v._v(" "),s("p",[v._v("CIDR实际上是将"),s("strong",[v._v("网络前缀都相同的连续的IP地址")]),v._v("组成一个"),s("strong",[v._v("地址块")])]),v._v(" "),s("p",[v._v("例：请给出CIDR地址块128.14.35.7/20的全部细节（最小地址，最大地址，地址数量，聚合C类网数量（A、B、C类的数量），地址掩码（子网掩码））")]),v._v(" "),s("p",[v._v("最小地址：128.14.32.0\t\t最大地址：128.14.47.255")]),v._v(" "),s("p",[v._v("地址数量：2^12\t\t聚合C类网的数量：2^12/8\t\t\t地址掩码：255.255.240.0")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(700),alt:"image-20210905204238456"}}),v._v(" "),s("p",[v._v("路由聚合（构造超网）：找相同的前缀，网络前缀越长，地址块越小，路由越具体")]),v._v(" "),s("p",[v._v("【2011年 题38】在子网192.168.4.0/30中，"),s("strong",[v._v("能接收目的地址为192.168.4.3")]),v._v("的IP分组的最大主机数是（）")]),v._v(" "),s("p",[v._v("A、0\t\t\t\t\tB、1\t\t\t\t\tC、2\t\t\t\t\t\tD、4")]),v._v(" "),s("p",[v._v("答案：C；30个网络号，2个主机号，即2个比特，网络地址192.168.4.0，广播地址：192.168.4.3，接收广播地址的主机是4.1，4.2")]),v._v(" "),s("h3",{attrs:{id:"ipv4地址的应用规划"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ipv4地址的应用规划"}},[v._v("#")]),v._v(" IPv4地址的应用规划")]),v._v(" "),s("p",[v._v("定长的子网掩码FLSM：使用一个子网掩码来划分子网，浪费IP地址")]),v._v(" "),s("p",[v._v("例：假设申请到的"),s("strong",[v._v("C类网络为218.75.230.0")]),v._v("，应用需求"),s("strong",[v._v("划分成5个子网")])]),v._v(" "),s("p",[v._v("答案：一个五个主机，所以需要3个比特，2^3=8,即11100000=224")]),v._v(" "),s("p",[s("img",{attrs:{src:t(701),alt:"image-20210905214436854"}})]),v._v(" "),s("p",[v._v("==变长的子网掩码VLSM：使用不同的子网掩码来划分子网，减少浪费==")]),v._v(" "),s("p",[v._v("例：申请到的地址块为218.76.230.0/24，需求取出5个地址块")]),v._v(" "),s("p",[v._v("答案：")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(702),alt:"image-20210905214812939"}}),v._v(" "),s("h2",{attrs:{id:"ip数据报的发送和转发过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ip数据报的发送和转发过程"}},[v._v("#")]),v._v(" IP数据报的发送和转发过程")]),v._v(" "),s("p",[v._v("包括一下两部分："),s("strong",[v._v("主机发送IP数据报和路由器转发")]),v._v("IP数据报")]),v._v(" "),s("p",[v._v("1、源主机如何知道目的主机"),s("strong",[v._v("是否与主机在同一个网络中")]),v._v("？")]),v._v(" "),s("p",[v._v("答案："),s("strong",[v._v("目的地址与子网掩码相与")]),v._v("：和1与是本身，C的网络地址192.168.0.0\tF的地址（目的地址）192.168.0.128；"),s("strong",[v._v("不同说明不在一个网络中")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(703),alt:"image-20210906195924252"}})]),v._v(" "),s("p",[v._v("2、路由器收到IP数据报后如何转发？")]),v._v(" "),s("p",[v._v("答案："),s("strong",[v._v("先检查IP数据报首部是否出错，出错直接丢弃，并通告源主机")]),v._v("，其次"),s("strong",[v._v("根据IP数据报的目的地址在路由表中查找匹配的条目")]),v._v("，找不到也丢弃")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(704),alt:"image-20210906201014802"}}),v._v(" "),s("p",[v._v("【2010年 题38】下列网络设备中，能够抑制广播风暴的是（）")]),v._v(" "),s("p",[v._v("I、中继器\t\tII、集线器\t\t\tIII、网桥\t\t\t\tIV、路由器")]),v._v(" "),s("p",[v._v("A、仅I和II\t\t\t\tB、仅III\t\t\t\tC、仅III和IV\t\t\t\tD、仅IV")]),v._v(" "),s("p",[v._v("答案：D；"),s("strong",[v._v("广播风暴即广播域，在网络层中路由器可以解决")]),v._v("，链路层（网桥和交换机即多端口网桥）只能解决冲突域，而物理层（中继器和集线器）两个都不能解决")]),v._v(" "),s("p",[v._v("【2012年 题37】下列关于IP路由器概念的描述中，错误的是（）")]),v._v(" "),s("p",[v._v("A、运行路由协议，设置路由表")]),v._v(" "),s("p",[v._v("B、监测到拥塞时，合理丢弃IP分组")]),v._v(" "),s("p",[v._v("C、对收到的IP分组头进行差错校验，确保传输的IP分组不丢失")]),v._v(" "),s("p",[v._v("D、根据收到的IP分组的目的IP地址，将其转发到合适的输出线路上")]),v._v(" "),s("p",[v._v("答案：C；"),s("strong",[v._v("TCP/IP体系结构的网际层并不负责可靠传输")]),v._v("，当发现错误时会丢"),s("strong",[v._v("弃该IP分组并向源主机发送报告")])]),v._v(" "),s("h2",{attrs:{id:"静态路由配置及其可能产生的路由环路问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态路由配置及其可能产生的路由环路问题"}},[v._v("#")]),v._v(" 静态路由配置及其可能产生的路由环路问题")]),v._v(" "),s("p",[s("strong",[v._v("网络前缀最长，路由最具体")]),v._v("，多条路由可选时，"),s("strong",[v._v("选最长前缀")])]),v._v(" "),s("p",[s("strong",[v._v("人工配置路由表")]),v._v("可能会出现"),s("strong",[v._v("路由环路的错误：")])]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("配置错误")]),v._v("：即下一跳又跳回原来，解决方法："),s("strong",[v._v("在IP数据报首部设有生存时间TTL字段")])]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(705),alt:"image-20210906204944504"}}),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("聚合了不存在的网络")]),v._v("：即**跳到不存在的地址，然后走默认地址，又回到原来，**解决方法：设置黑体路由（下一跳为null0）")]),v._v(" "),s("p",[v._v("3、网络故障："),s("strong",[v._v("和聚合了不存在的网络差不多，即跳到不存在的网络")])]),v._v(" "),s("h2",{attrs:{id:"路由选择协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由选择协议"}},[v._v("#")]),v._v(" 路由选择协议")]),v._v(" "),s("h3",{attrs:{id:"概述-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述-3"}},[v._v("#")]),v._v(" 概述")]),v._v(" "),s("p",[s("strong",[v._v("静态")]),v._v("路由选择：人工配置的"),s("strong",[v._v("网络路由、默认路由、特定主机路由、黑洞路由")]),v._v("等；方式简单，开销小；"),s("strong",[v._v("在小规模网络")]),v._v("中采用")]),v._v(" "),s("p",[s("strong",[v._v("动态")]),v._v("路由选择："),s("strong",[v._v("能较好地适应网络状态的变化，适用于大规模网络")])]),v._v(" "),s("p",[v._v("因特网所采用的路由选择协议的主要特点：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("自适应")]),v._v("：动态路由选择")]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("分布式：路由器之间交互路由信息")])]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("分层次")]),v._v("：将整个因特网"),s("strong",[v._v("分为许多较小的自治系统AS")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(706),alt:"image-20210906212156432"}})]),v._v(" "),s("p",[v._v("路由选择协议：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("内部")]),v._v("网关协议"),s("strong",[v._v("IGP")]),v._v("：")]),v._v(" "),s("p",[v._v("基于距离向量：路由信息协议RIP和"),s("strong",[v._v("内部网关路由协议IGRP")])]),v._v(" "),s("p",[v._v("基于链路状态：开放式最短路径优先OSPF和中间系统到中间系统IS-IS（ISP骨干网常用的IGP协议）")]),v._v(" "),s("p",[v._v("结合距离向量和链路状态："),s("strong",[v._v("增强型内部网关路由协议EIGRP")])]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("外部")]),v._v("网关协议"),s("strong",[v._v("EGP")]),v._v("：只有"),s("strong",[v._v("边界网关协议BGP")])]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("路由器的基本结构：路由表（"),s("strong",[v._v("对网络拓扑变化")]),v._v("的计算最优化）和转发表（"),s("strong",[v._v("查找过程")]),v._v("最优化）；其中路由表一般仅包含"),s("strong",[v._v("从目的网络到下一跳的映射")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(707),alt:"image-20210906213118435"}}),v._v(" "),s("h3",{attrs:{id:"路由信息协议rip的基本工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由信息协议rip的基本工作原理"}},[v._v("#")]),v._v(" 路由信息协议RIP的基本工作原理")]),v._v(" "),s("p",[v._v("RIP使用"),s("strong",[v._v("跳数")]),v._v("来衡量到达目的网络的距离，"),s("strong",[v._v("直连网络的距离定义为1，距离等于16相当于不可达")])]),v._v(" "),s("p",[v._v("好的路由："),s("strong",[v._v("距离短，所通过路由器数量最少")])]),v._v(" "),s("p",[v._v("RIP包含以下三个要点：")]),v._v(" "),s("p",[v._v("和谁交换信息\t\t\t和"),s("strong",[v._v("相邻路由器交换信息")])]),v._v(" "),s("p",[v._v("交换什么信息\t\t\t"),s("strong",[v._v("自己的路由表")])]),v._v(" "),s("p",[v._v("何时交换信息\t\t\t周期性交换")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("A的改造：都加一个1，下一跳都为A")]),v._v(" "),s("p",[v._v("B的改造：添加N1，N2不变，N3为A中的，删除B中的N3，两个N5，N7更新为A的，因为下一跳相同，N9保存不变")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(708),alt:"image-20210909192757567"}}),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(709),alt:"image-20210909193144595"}}),v._v(" "),s("p",[v._v("【2010年 题35】某自治系统采用RIP协议，若该自治系统内的路由器R1收到其邻居路由器R2的距离矢量，距离矢量中包含信息《"),s("strong",[v._v("net1，16")]),v._v("》，则能得出的结论是（）")]),v._v(" "),s("p",[v._v("A、R2可以经过R1到达net1，跳数为17")]),v._v(" "),s("p",[v._v("B、R2可以到达net1，跳数为16")]),v._v(" "),s("p",[v._v("C、R1可以经过R2到达net1，跳数为17")]),v._v(" "),s("p",[v._v("D、R1不能经过R2到达net1")]),v._v(" "),s("p",[v._v("答案：D，距离超过16说明不可达")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("RIP存在“**坏消息传播得慢”**的问题")]),v._v(" "),s("p",[v._v("解决方法：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("限制最大路径距离为15")])]),v._v(" "),s("p",[v._v("2、当路由表发生变化时就"),s("strong",[v._v("立即发送更新报文（触发更新），而不仅是周期")])]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("不让同一路由信息")]),v._v("再通过此接口"),s("strong",[v._v("向反方向传送（水平分割）")])]),v._v(" "),s("p",[v._v("【2016年 题37】假设R1、R2、R3采用RIP协议交换路由信息，且均已收敛。若R3检测到"),s("strong",[v._v("网络201.1.2.0/25不可达")]),v._v("，并"),s("strong",[v._v("向R2通告一次新的距离向量，则R2更新后")]),v._v("，其"),s("strong",[v._v("到达该网络的距离")]),v._v("是（）")]),v._v(" "),s("p",[v._v("A、2\t\t\t\t\t\tB、3\t\t\t\t\t\tC、16\t\t\t\t\t\tD、17")]),v._v(" "),s("p",[v._v("答案：B；注意：**这里只向R2通告，而R1还不知道，**所以R2更新后，R1把更新报文给R2，即错误的信息")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(710),alt:"image-20210909195957677"}}),v._v(" "),s("h3",{attrs:{id:"开放最短路径优先ospf的基本工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开放最短路径优先ospf的基本工作原理"}},[v._v("#")]),v._v(" 开放最短路径优先OSPF的基本工作原理")]),v._v(" "),s("p",[v._v("算法：最短路径算法SPF（Dijkstra）")]),v._v(" "),s("p",[v._v("OSPF**基于链路状态，**RIP基于距离向量")]),v._v(" "),s("p",[v._v("链路状态指"),s("strong",[v._v("本路由器和哪些路由器相邻，以及相应链路的代价")])]),v._v(" "),s("p",[v._v("例：思科路由器OSPF计算代价的方法：100Mbps/链路带宽，结果小于1的也记1")]),v._v(" "),s("p",[v._v("OSPF相邻路由器之间"),s("strong",[v._v("通过交互问候分组，建立和维护邻居关系")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(711),alt:"image-20210910103345917"}})]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("OSPF的每个路由器都会产生"),s("strong",[v._v("链路状态报告LSA")]),v._v("，LSA包括"),s("strong",[v._v("直连网络和邻居路由器")]),v._v("的链路状态信息，被封装在链路状态更新分组"),s("strong",[v._v("LSU中，采用洪泛法发送")])]),v._v(" "),s("p",[v._v("OSPF的每个路由器都有一个"),s("strong",[v._v("链路状态数据库LSDB")]),v._v("，"),s("strong",[v._v("用于存储LSA")]),v._v("，洪泛发送后，"),s("strong",[v._v("各路由器的LSDB最终一致")])]),v._v(" "),s("p",[v._v("其次，"),s("strong",[v._v("基于LSDB进行最短路径优先SPF计算，构建出各自路由表")]),v._v("，即路由器到其他路由器的最短路径")]),v._v(" "),s("p",[v._v("OSPF的五种分组类型：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("问候")]),v._v("分组**：维护邻居路由器的可达性**")]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("数据库描述")]),v._v("分组：给出自己的链路状态数据库")]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("链路状态请求")]),v._v("分组："),s("strong",[v._v("请求别的路由器链路状态信息，添加到自己中")])]),v._v(" "),s("p",[v._v("4、链路"),s("strong",[v._v("状态更新")]),v._v("分组："),s("strong",[v._v("被请求的路由器")]),v._v("发送链路状态信息（洪泛法）")]),v._v(" "),s("p",[v._v("5、链路"),s("strong",[v._v("状态确认")]),v._v("分组："),s("strong",[v._v("请求的接收到后")]),v._v("，回应")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("重点：为了使OSPF能够用于规模很大的网络，"),s("strong",[v._v("把一个自治系统划分为多个，即区域")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(712),alt:"image-20210910110640781"}})]),v._v(" "),s("h3",{attrs:{id:"边界网关协议bgp的基本工作原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#边界网关协议bgp的基本工作原理"}},[v._v("#")]),v._v(" 边界网关协议BGP的基本工作原理")]),v._v(" "),s("p",[v._v("BGP只能是力求"),s("strong",[v._v("寻找一条能到目的网络且比较好的路由（不兜圈），并非是寻找最佳路径")])]),v._v(" "),s("p",[v._v("配置BGP：每个自治系统"),s("strong",[v._v("至少一个路由器作为该自治系统的BGP发言人")])]),v._v(" "),s("p",[v._v("不同自治系统的发言人：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("首先建立TCP连接")])]),v._v(" "),s("p",[v._v("2、在TCP连接上进行"),s("strong",[v._v("交互BGP报文以建立BGP会话")])]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("利用会话交换路由信息")])]),v._v(" "),s("p",[v._v("4、最后发言人根据所采用的策略"),s("strong",[v._v("找到到达各自治系统较好的路由")]),v._v("，即"),s("strong",[v._v("不存在回路的自治系统连通图")])]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("BGP-4有以下四种报文：")]),v._v(" "),s("p",[v._v("1、OPEN（打开）报文："),s("strong",[v._v("与相邻的发言人建立关系")])]),v._v(" "),s("p",[v._v("2、UPDATE（更新）报文："),s("strong",[v._v("通告某一路由的信息")])]),v._v(" "),s("p",[v._v("3、KEEPALIVE（保活）报文："),s("strong",[v._v("周期性和相邻发言人连通")])]),v._v(" "),s("p",[v._v("4、NOTIFICATION（通知）报文："),s("strong",[v._v("用来发送检测到的差错")])]),v._v(" "),s("p",[v._v("【2013年 题47（3）】R1和R2之间利用"),s("strong",[v._v("哪个路由协议交换路由信息")]),v._v("？该路由协议的"),s("strong",[v._v("报文被封装到哪")]),v._v("个协议的分组中进行传输？")]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(713),alt:"image-20210910113640788"}}),v._v(" "),s("p",[v._v("答案：因为R1和R2在"),s("strong",[v._v("不同的自治系统中")]),v._v("，所以使用"),s("strong",[v._v("BGP协议")]),v._v("，而BGP协议"),s("strong",[v._v("报文被封装在TCP报文段")]),v._v("中进行传输")]),v._v(" "),s("p",[v._v("【2017年 题37】直接封装RIP、OSPF、BGP报文的协议分别是（）")]),v._v(" "),s("p",[v._v("A、TCP、UDP、IP\t\t\tB、TCP、IP、UDP\t\t\tC、UDP、TCP、IP\t\t\tD、UDP、IP、TCP")]),v._v(" "),s("p",[v._v("答案：D，TCP提供可靠服务给"),s("strong",[v._v("应用层(HTTP、SMTP)")]),v._v("；UDP提供不可靠**(DNS、RTP)**，BGP报文协议封装在TCP报文段中")]),v._v(" "),s("p",[s("img",{attrs:{src:t(714),alt:"image-20210910114430950"}})]),v._v(" "),s("h2",{attrs:{id:"ipv4数据报的首部格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ipv4数据报的首部格式"}},[v._v("#")]),v._v(" IPv4数据报的首部格式")]),v._v(" "),s("p",[s("img",{attrs:{src:t(715),alt:"image-20210910193439615"}})]),v._v(" "),s("p",[v._v("1、版本：4个比特，"),s("strong",[v._v("表示IP协议的版本")])]),v._v(" "),s("p",[v._v("2、首部长度：占4比特，该字段取值以4字节为单位")]),v._v(" "),s("p",[v._v("最小十进制为5，表示IP数据报首部只有20字节")]),v._v(" "),s("p",[v._v("最大十进制15，表示首部包含20字节固定部分和最大40字节可变部分")]),v._v(" "),s("p",[v._v("3、可选字段：开销大，用来支持排错")]),v._v(" "),s("p",[v._v("4、填充字段：确保首部长度为4字节的整数倍，使用全0填充")]),v._v(" "),s("p",[v._v("5、区分服务：占8比特，获得更好的服务")]),v._v(" "),s("p",[v._v("6、总长度：占16比特，表示"),s("strong",[v._v("IP数据报的总长度（首部+数据载荷）")])]),v._v(" "),s("p",[v._v("7、标识：占16比特，属于"),s("strong",[v._v("同一个数据报的各分片数据报应该具有相同的标识")])]),v._v(" "),s("p",[v._v("8、标志：占3比特，各比特含义如下："),s("strong",[v._v("DF位：1表示不允许分片；MF：1表示后面还有分片")]),v._v("；保留位：必须为0")]),v._v(" "),s("p",[v._v("9、片偏移：占13比特，"),s("strong",[v._v("指出分片数据报的数据载荷")]),v._v("部分偏移其在原数据报有多少个单位，"),s("strong",[v._v("除于8")])]),v._v(" "),s("p",[v._v("10、"),s("strong",[v._v("生存时间TTL（防止兜圈）")]),v._v("：占8比特，表示IP数据报的生存时间，到达路由器跳数-1，该字段-1后的值"),s("strong",[v._v("不为0则转发，否则丢弃")])]),v._v(" "),s("p",[v._v("11、协议：占8比特，说明是使用何种协议数据单元")]),v._v(" "),s("p",[s("img",{attrs:{src:t(716),alt:"image-20210910195532378"}})]),v._v(" "),s("p",[v._v("12、首部检验和：占16比特，检测首部在传输过程是否出现差错（和可选字段有区别），比CRC检验码简单，IPv6不再计算该字段")]),v._v(" "),s("p",[v._v("【2018年 题47】IP地址空间192.168.1.0/24被均分给销售部和技术部两个子网，并乙分别为部分主机和路由器接口分配了IP地址，销售部子网的MTU=1500B，技术部子网的MTU=800B。")]),v._v(" "),s("p",[v._v("（2）假设主机192.168.1.1向主机192.168.1.208发送一个"),s("strong",[v._v("总长度为1500B的IP分组")]),v._v("，"),s("strong",[v._v("IP分组的头部长度为20B，"),s("strong",[v._v("路由器在通过")]),v._v("接口F1转发")]),v._v("该IP分组时进行了分片，若分片时尽可能分为最大片，则一个"),s("strong",[v._v("最大IP分片封装数据的字节数是多少？"),s("strong",[v._v("至少需要分为几个分片")]),v._v("？每个分片的片偏移量是多少")]),v._v("？")]),v._v(" "),s("p",[s("img",{attrs:{src:t(717),alt:"image-20210910204012411"}})]),v._v(" "),s("p",[v._v("答案：由题可知，数据载荷为1480B，800-20=780；780/8=97.5，97*8=776，所以最大封装数据的字节数为776，片偏移量0/8=0，第二个分片从776开始，到1479结束，片偏移量为776/8=97")]),v._v(" "),s("p",[v._v("【2011年 题47】题47-a图是"),s("strong",[v._v("网络拓扑")]),v._v("，题47-b图是主机进行Web请求的1个以太网数据帧"),s("strong",[v._v("前80个字节的十六进制及ASCII码内容。")])]),v._v(" "),s("p",[v._v("（1）Web服务器的IP地址是什么？该主机的默认网关的MAC地址是什么？")]),v._v(" "),s("p",[v._v("（4）该帧所封装的IP分组经过路由器R转发时，需修改IP分组头中的哪些字段")]),v._v(" "),s("p",[s("img",{attrs:{src:t(718),alt:"image-20210910205712399"}})]),v._v(" "),s("p",[v._v("答案：Web服务器的IP地址：即30位后的4个 40 aa 62 20（十六进制）====>64.170.98.32")]),v._v(" "),s("p",[v._v("默认网关的MAC地址：从图可知，"),s("strong",[v._v("默认网关是路由器R，即目的MAC地址（6个字节）")]),v._v("，00-21-27-21-51-ee")]),v._v(" "),s("p",[v._v("需修改IP分组头中的哪些字段：经过R时，生存时间字段被减1，"),s("strong",[v._v("首部检验和")]),v._v("会被重新计算")]),v._v(" "),s("p",[v._v("若IP分组总长度大于MTU，则需要进行分片，"),s("strong",[v._v("总长度、标志、片偏移字段")]),v._v("都需要修改")]),v._v(" "),s("h2",{attrs:{id:"网际控制报文协议icmp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网际控制报文协议icmp"}},[v._v("#")]),v._v(" 网际控制报文协议ICMP")]),v._v(" "),s("p",[v._v("主机或路由器使用ICMP来发送"),s("strong",[v._v("差错报告报文和询问报文")]),v._v("，"),s("strong",[v._v("ICMP报文被封装在IP数据报中发送")])]),v._v(" "),s("h3",{attrs:{id:"差错报告报文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#差错报告报文"}},[v._v("#")]),v._v(" 差错报告报文")]),v._v(" "),s("p",[v._v("五种：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("终点不可达")]),v._v("：当路由器或主机不能交付数据报时（"),s("strong",[v._v("不知道如何转发")]),v._v("），就向源点发送终点不可达报文")]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("源点抑制")]),v._v("："),s("strong",[v._v("由于拥塞")]),v._v("而丢弃数据报")]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("时间超过：即生存时间TTL字段的值为0")]),v._v("，就丢弃该IP数据报，并向源点发送时间超过报文；还有一种情况是"),s("strong",[v._v("不能按时到达终点")]),v._v("，就把"),s("strong",[v._v("已收到的数据报片都丢弃，也会向源点发送时间超过报文")])]),v._v(" "),s("p",[v._v("4、"),s("strong",[v._v("参数问题")]),v._v("：发现"),s("strong",[v._v("首部")]),v._v("在传输过程中"),s("strong",[v._v("出现了误码")])]),v._v(" "),s("p",[v._v("5、"),s("strong",[v._v("改变路由（重定向）：可通过更好的路由")])]),v._v(" "),s("h3",{attrs:{id:"询问报文"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#询问报文"}},[v._v("#")]),v._v(" 询问报文")]),v._v(" "),s("p",[v._v("两种：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("回送请求")]),v._v("和回答："),s("strong",[v._v("测试目的站是否可达")])]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("时间戳请求")]),v._v("和回答：从"),s("strong",[v._v("1900年1月1日开始到当前时刻一共多少秒")]),v._v("，"),s("strong",[v._v("进行时钟同步和测量时间")])]),v._v(" "),s("p",[v._v("例：")]),v._v(" "),s("p",[v._v("分组网探测PING（ping www.baidu.com）：")]),v._v(" "),s("p",[v._v("1、用来"),s("strong",[v._v("测试主机或路由器间的连通性")])]),v._v(" "),s("p",[v._v("2、应用层"),s("strong",[v._v("直接使用网际层的ICMP")]),v._v("（没有通过运输层的TCP或UDP）")]),v._v(" "),s("p",[v._v("3、使用"),s("strong",[v._v("ICMP回送请求和回答报文")])]),v._v(" "),s("p",[s("strong",[v._v("跟踪路由")]),v._v("（tracert www.baidu.com）：")]),v._v(" "),s("p",[v._v("用来测试IP数据报从源主机到目的主机要"),s("strong",[v._v("经过哪些路由器")])]),v._v(" "),s("p",[v._v("Window：tracert命令，"),s("strong",[v._v("应用层直接使用网际层ICMP")]),v._v("，跳过运输层，使用ICMP"),s("strong",[v._v("回送请求以及差错报告报文")])]),v._v(" "),s("p",[v._v("Unix：traceroute命令，"),s("strong",[v._v("在运输层使用UDP，仅使用ICMP差错报告报文")])]),v._v(" "),s("h2",{attrs:{id:"虚拟专用网vpn与网络地址转换nat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#虚拟专用网vpn与网络地址转换nat"}},[v._v("#")]),v._v(" 虚拟专用网VPN与网络地址转换NAT")]),v._v(" "),s("p",[v._v("利用"),s("strong",[v._v("公用的因特网作为")]),v._v("本机构"),s("strong",[v._v("各专用网之间的通信载体")]),v._v("，这样的专用网称为"),s("strong",[v._v("虚拟专用网")]),v._v("，其"),s("strong",[v._v("各主机所分配的地址应该是本机构可自由分配的专用地址")]),v._v("，不需要申请，即因特网上使用的公有地址")]),v._v(" "),s("p",[v._v("内联网VPN：同一机构")]),v._v(" "),s("p",[v._v("外联网VPN：需要外部机构（通常是合作伙伴）")]),v._v(" "),s("p",[v._v("远程接入VPN：只要接入因特网，即可访问专用网络中的资源")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("网络地址转换NAT：缓解IPv4地址空间耗尽的问题")]),v._v(" "),s("p",[v._v("网络地址与端口号转换"),s("strong",[v._v("NAPT")]),v._v("：利用"),s("strong",[v._v("运输层的端口号和IP地址一起转换")]),v._v("，用一个全球IP地址就可以使"),s("strong",[v._v("多个本地地址的主机同时和因特网上的主机进行通信")])]),v._v(" "),s("p",[v._v("使用tracert www.github.com "),s("strong",[v._v("地址有多个一样")]),v._v("，很可能"),s("strong",[v._v("内网出外网的路由器使用了NAT，"),s("strong",[v._v("且")]),v._v("内网中还有一个使用私有IP地址的路由器")]),v._v("。"),s("strong",[v._v("NAT")]),v._v("对外网"),s("strong",[v._v("屏蔽了内网主机的网络地址")]),v._v("，提供一定的保护")]),v._v(" "),s("p",[s("img",{attrs:{src:t(719),alt:"image-20210911154754108"}})]),v._v(" "),s("h1",{attrs:{id:"第五章-运输层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第五章-运输层"}},[v._v("#")]),v._v(" 第五章 运输层")]),v._v(" "),s("h2",{attrs:{id:"运输层的概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运输层的概述"}},[v._v("#")]),v._v(" 运输层的概述")]),v._v(" "),s("p",[v._v("物理层、数据链路层以及网络层共同解决了"),s("strong",[v._v("主机通过异构网络互联")]),v._v("起来的问题，"),s("strong",[v._v("实现了主机到主机的通信")])]),v._v(" "),s("p",[s("strong",[v._v("实际上进行通信")]),v._v("的真正实体是位于"),s("strong",[v._v("通信两端主机中的进程")])]),v._v(" "),s("p",[v._v("如何为运行在"),s("strong",[v._v("不同主机上的应用进程")]),v._v("提供"),s("strong",[v._v("直接的通信服务")]),v._v("是"),s("strong",[v._v("运输层的任务")]),v._v("，"),s("strong",[v._v("运输层协议")]),v._v("又称为"),s("strong",[v._v("端到端协议")])]),v._v(" "),s("p",[v._v("根据"),s("strong",[v._v("应用需求的不同")]),v._v("，"),s("strong",[v._v("运输层为应用层提供了两种不同的运输协议")]),v._v("，即"),s("strong",[v._v("面向连接的TCP和无连接的UDP")])]),v._v(" "),s("h2",{attrs:{id:"运输层端口号、复用与分用的概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运输层端口号、复用与分用的概念"}},[v._v("#")]),v._v(" 运输层端口号、复用与分用的概念")]),v._v(" "),s("p",[v._v("进程使用"),s("strong",[v._v("进程标识符PID来标志")])]),v._v(" "),s("p",[v._v("由于不同操作系统使用不同的格式的进程标识符，所以"),s("strong",[v._v("使用统一的方法对TCP/IP体系的应用进程进行标识")]),v._v("，即端口号")]),v._v(" "),s("p",[s("strong",[v._v("端口号")]),v._v("使用16比特表示，范围0~65535")]),v._v(" "),s("p",[v._v("1、熟知端口号：0~1023，例：FTP：21/20，HTTP：80，DNS：53")]),v._v(" "),s("p",[v._v("2、登记端口号：1024~49151，为没有熟知端口号的应用程序使用")]),v._v(" "),s("p",[v._v("3、短暂端口号：49152~65535，留给客户进程选择暂时使用")]),v._v(" "),s("p",[v._v("端口号"),s("strong",[v._v("只具有本地意义")]),v._v("，在因特网中，"),s("strong",[v._v("不同计算机中的相同端口号是没有联系的")])]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("发送方的复用和接收方的分用")]),v._v(" "),s("p",[s("img",{attrs:{src:t(720),alt:"image-20210911164032833"}})]),v._v(" "),s("p",[v._v("运输层熟知端口号：")]),v._v(" "),s("p",[s("img",{attrs:{src:t(721),alt:"image-20210911170120132"}})]),v._v(" "),s("h2",{attrs:{id:"udp和tcp的对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#udp和tcp的对比"}},[v._v("#")]),v._v(" UDP和TCP的对比")]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[v._v("用户数据报协议UDP")]),v._v(" "),s("th",{staticStyle:{"text-align":"center"}},[v._v("传输控制协议TCP")])])]),v._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("无连接")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("面向连接（三报文握手建立连接，四报文挥手释放连接）")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("支持单播、多播以及广播")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("仅支持单播")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("面向应用报文")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("面向字节流")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("向上层提供无连接不可靠传输服务（IP电话、视频会议）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("向上层提供面向连接的可靠传输服务（文件传输）")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("用户数据报首部仅8字节")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("报文段首部最小20字节，最大60字节")])])])]),v._v(" "),s("h2",{attrs:{id:"tcp的流量控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp的流量控制"}},[v._v("#")]),v._v(" TCP的流量控制")]),v._v(" "),s("p",[v._v("让发送方的发送速率不要太快，要让"),s("strong",[v._v("接收方来得及接收")]),v._v("（"),s("strong",[v._v("滑动窗口")]),v._v("很方便在"),s("strong",[v._v("TCP连接")]),v._v("上实现该功能）")]),v._v(" "),s("p",[v._v("利用"),s("strong",[v._v("接收窗口的大小限制发送窗口的大小")]),v._v("，当发送方"),s("strong",[v._v("接收到接收方的零窗口通知")]),v._v("后，"),s("strong",[v._v("启动持续计时器")]),v._v("，"),s("strong",[v._v("超时")]),v._v("后，向接收方"),s("strong",[v._v("发送零窗口探测报文")])]),v._v(" "),s("p",[s("strong",[v._v("rwnd=0：标识接收窗口为0")])]),v._v(" "),s("p",[v._v("ACK=1：标识已接收")]),v._v(" "),s("p",[s("strong",[v._v("ack=1：标识601之前的数据已接收")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(722),alt:"image-20210911193614476"}})]),v._v(" "),s("p",[v._v("【2010年 题39】主机甲和主机乙之间建立了一个TCP连接，"),s("strong",[v._v("TCP最大段长度为1000字节")]),v._v("，若主机"),s("strong",[v._v("甲的当前拥塞窗口为4000字节")]),v._v("，在主机甲向主机乙"),s("strong",[v._v("连续发送两个最大段后")]),v._v("，成功"),s("strong",[v._v("收到")]),v._v("主机乙发送的"),s("strong",[v._v("第一个的确认段")]),v._v("，确认段中通告的"),s("strong",[v._v("接收窗口大小为2000字节")]),v._v("，则此时主机甲还可以向主机乙"),s("strong",[v._v("发送的最大字节数是")]),v._v("（）")]),v._v(" "),s("p",[v._v("A、1000\t\t\t\t\tB、2000\t\t\t\t\tC、3000\t\t\t\t\tD、4000")]),v._v(" "),s("p",[v._v("答案：A；TCP发送方的发送窗口=min【自身拥塞窗口，TCP接收方的接收窗口】，连续发送两个最大段，即2000，"),s("strong",[v._v("接收方只接收到1000")]),v._v("，然后反馈接收窗口为2000，即还可以"),s("strong",[v._v("发送2000~2999")]),v._v("，而"),s("strong",[v._v("1000 ~1999已发送")])]),v._v(" "),s("h2",{attrs:{id:"tcp的拥塞控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp的拥塞控制"}},[v._v("#")]),v._v(" TCP的拥塞控制")]),v._v(" "),s("p",[v._v("拥塞：若对网络中"),s("strong",[v._v("某一资源的需求超过了该资源所能提供的可用部分")]),v._v("，网络性能就变坏，网络资源："),s("strong",[v._v("带宽、交换结点中的缓存和处理机")]),v._v("等")]),v._v(" "),s("p",[v._v("若出现拥塞不进行控制，则网络的吞吐量将随输入负荷的增大而下降，"),s("strong",[v._v("吞吐量")]),v._v("："),s("strong",[v._v("在单位时间内通过某个网络的数据量")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(723),alt:"image-20210911202155021"}}),v._v(" "),s("p",[v._v("解决方法：")]),v._v(" "),s("p",[v._v("发送方维护一个叫"),s("strong",[v._v("拥塞窗口cwnd的状态变量")]),v._v("，取决于网络的拥塞程度；"),s("strong",[v._v("一个慢开始门限ssthresh")]),v._v("，"),s("strong",[v._v("当cwnd小于ssthresh时，使用慢开始算法，大于使用拥塞避免算法")])]),v._v(" "),s("p",[v._v("1、慢开始：指一开始向网络"),s("strong",[v._v("注入的报文段少；")]),v._v(" "),s("strong",[v._v("从1开始")])]),v._v(" "),s("p",[v._v("2、拥塞避免：并非能完全避免拥塞，只是将拥塞窗口控制为按"),s("strong",[v._v("线性规律增长")])]),v._v(" "),s("p",[s("strong",[v._v("个别报文段在网络中丢失，网络并未发生拥塞，发送方误认为拥塞，然后超时重传，降低传输效率")])]),v._v(" "),s("p",[v._v("3、快重传（新的）：")]),v._v(" "),s("p",[v._v("·接收方要立即发送确认，"),s("strong",[v._v("不要等待自己发送数据时才进行捎带确认")])]),v._v(" "),s("p",[v._v("·即使出错的报文段，也要立即发出对已收到的报文段的重复确认")]),v._v(" "),s("p",[v._v("·发送方一旦收到3个连续的重复确认，"),s("strong",[v._v("相应的报文段立即重传，不是等待超时重传")])]),v._v(" "),s("p",[v._v("4、快恢复（新出的）：发送方将慢开始门限值和拥塞窗口值"),s("strong",[v._v("调整为当前窗口的一半")]),v._v("，"),s("strong",[v._v("开始执行拥塞避免算法")]),v._v("，没有慢开始算法，"),s("strong",[v._v("从中间值开始")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(724),alt:"image-20210911203700452"}})]),v._v(" "),s("h2",{attrs:{id:"tcp超时重传时间的选择"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp超时重传时间的选择"}},[v._v("#")]),v._v(" TCP超时重传时间的选择")]),v._v(" "),s("p",[s("strong",[v._v("超时重传时间RTO")])]),v._v(" "),s("p",[s("strong",[v._v("加权往返时间RTTs")]),v._v("，其测量比较复杂")]),v._v(" "),s("p",[v._v("争对出现超时重传时无法测往返时间RTT问题，Karn提出一个算法：只要报文段重传了，就不计算其往返时间RTT")]),v._v(" "),s("p",[v._v("而其还存在一个缺陷："),s("strong",[v._v("解决方法是报文段每重传一次，就把RTO的值扩大原来的2倍")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(725),alt:"image-20210911211736440"}})]),v._v(" "),s("p",[v._v("其中计算"),s("strong",[v._v("RTTd时，与新的RTTs没有关系")]),v._v("，与之前的RTTd和RTTs有关")]),v._v(" "),s("h2",{attrs:{id:"tcp可靠传输的实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp可靠传输的实现"}},[v._v("#")]),v._v(" TCP可靠传输的实现")]),v._v(" "),s("p",[v._v("基于以"),s("strong",[v._v("字节为单位的滑动窗口")]),v._v("来实现可靠传输")]),v._v(" "),s("p",[s("strong",[v._v("已发送并收到确认数据可以删除，发送方不能回退到已确认")])]),v._v(" "),s("p",[v._v("描述发送窗口的状态：")]),v._v(" "),s("p",[v._v("1、小于P1是已发送并已收到确认")]),v._v(" "),s("p",[v._v("2、大于P3是不允许发送")]),v._v(" "),s("p",[v._v("3、P3-P1=发送窗口的尺寸")]),v._v(" "),s("p",[v._v("4、P2-P1=已发送未收到确认")]),v._v(" "),s("p",[v._v("5、P3-P2=允许发送但未发送（可用窗口）")]),v._v(" "),s("p",[s("img",{attrs:{src:t(726),alt:"image-20210912094229445"}})]),v._v(" "),s("p",[v._v("在同一时刻，"),s("strong",[v._v("发送方的发送窗口和接收方窗口并不一定一样大：有一定的时间滞后")])]),v._v(" "),s("p",[v._v("TCP要求接收方必须"),s("strong",[v._v("有累积确认和捎带确认机制")])]),v._v(" "),s("p",[v._v("TCP的通信是全双工通信，"),s("strong",[v._v("通信中的每一方都在发送和接收报文段，即都有发送和接收窗口")])]),v._v(" "),s("p",[v._v("【2011年 题40】主机甲与主机一之间已建立一个TCP连接，主机甲向主机乙发送了"),s("strong",[v._v("3个连续的TCP段")]),v._v("，分别包含300字节、400字节、500字节的有效载荷，"),s("strong",[v._v("第3个段的序号为900。若主机乙仅正确接收到第1个和第3个段")]),v._v("，则主机乙发送个给主机甲的确认序号是（）")]),v._v(" "),s("p",[v._v("A、300\t\t\t\t\t\tB、500\t\t\t\t\tC、1200\t\t\t\t\tD、1400")]),v._v(" "),s("p",[v._v("答案：500；因为主机乙"),s("strong",[v._v("只收到1和3段的数据，说明还得从第2个开始")]),v._v("，而"),s("strong",[v._v("第3个段的开始序号为900，说明第2个段的开始序号为500")])]),v._v(" "),s("h2",{attrs:{id:"tcp的运输连接管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp的运输连接管理"}},[v._v("#")]),v._v(" TCP的运输连接管理")]),v._v(" "),s("p",[v._v("TCP的"),s("strong",[v._v("运输连接管理")]),v._v("使运输连接的建立和释放都能正常进行")]),v._v(" "),s("p",[v._v("TCP的运输连接有以下三个阶段：")]),v._v(" "),s("p",[v._v("1、建立TCP连接")]),v._v(" "),s("p",[v._v("2、数据传送")]),v._v(" "),s("p",[v._v("3、释放TCP连接")]),v._v(" "),s("img",{staticStyle:{zoom:"67%"},attrs:{src:t(727),alt:"image-20210912101550160"}}),v._v(" "),s("h3",{attrs:{id:"tcp的连接建立-三报文握手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp的连接建立-三报文握手"}},[v._v("#")]),v._v(" TCP的连接建立（三报文握手）")]),v._v(" "),s("p",[v._v("建立连接要解决三个问题：")]),v._v(" "),s("p",[v._v("1、使TCP双方能够"),s("strong",[v._v("知道对方的存在")])]),v._v(" "),s("p",[v._v("2、能够"),s("strong",[v._v("协商一些参数")]),v._v("（最大窗口值、时间戳以及服务质量等）")]),v._v(" "),s("p",[v._v("3、"),s("strong",[v._v("对运输实体资源")]),v._v("（缓存大小，连接表中的项目等）进行"),s("strong",[v._v("分配")])]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[v._v("TCP客户")]),v._v(" "),s("th",{staticStyle:{"text-align":"center"}},[v._v("TCP服务器")])])]),v._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("开始时（CLOSED关闭）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("开始时（CLOSED）")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("主动打开")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("被动打开（进入监听LISTEN）")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("发送TCP连接请求（此时同步已发送SYN-SENT）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("发送针对TCP连接请求的确认（同步已接收（SYN-RCVD））")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("发送针对TCP连接请求的确认的确认（连接已建立）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("连接已建立")])])])]),v._v(" "),s("p",[v._v("SYN（同步标志位）=1的报文段不能携带数据，但要消耗一个序号，"),s("strong",[v._v("普通的确认报文段（没有SYN）如果不携带数据，则不消耗序号")])]),v._v(" "),s("p",[v._v("SYN=1，ACK（确认位）=1：说明是对连接请求的确认，其中ack=x+1，标识x之前数据已确认")]),v._v(" "),s("p",[v._v("普通报文段的确认不多余，因为"),s("strong",[v._v("防止已失效的连接请求报文段突然又传送到了TCP服务器而导致错误")])]),v._v(" "),s("p",[s("strong",[v._v("先同步，在建立连接")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(728),alt:"image-20210912102606574"}})]),v._v(" "),s("h3",{attrs:{id:"tcp的连接释放-四报文挥手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp的连接释放-四报文挥手"}},[v._v("#")]),v._v(" TCP的连接释放（四报文挥手）")]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[v._v("TCP客户")]),v._v(" "),s("th",{staticStyle:{"text-align":"center"}},[v._v("TCP服务器")])])]),v._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("主动关闭，发送TCP连接释放（进入"),s("strong",[v._v("FIN-WAIT-1终止等待1")]),v._v("）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("被动关闭，发送TCP普通确认（"),s("strong",[v._v("CLOSE-WAIT关闭等待")]),v._v("）")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("进入FIN-WAIT-2终止等待2（因为服务器数据传输还没完）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("传送完后，发送TCP连接释放（进入最后确认LAST-ACK）")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("发送TCP普通确认（进入TIME-WAIT时间等待2MSL）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("CLOSED关闭")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("时间等待结束后关闭（CLOSED）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}})])])]),v._v(" "),s("p",[v._v("MSL：最长报文段寿命，2分钟")]),v._v(" "),s("p",[v._v("为什么要进入时间等待："),s("strong",[v._v("防止普通确认丢失，而TCP服务器超时重发，客户端且已关闭，导致一直重发")])]),v._v(" "),s("p",[v._v("如果TCP客户出现故障，TCP服务器如何关闭：")]),v._v(" "),s("p",[v._v("1、TCP服务器每收到一次TCP客户进程的数据，就重新启动"),s("strong",[v._v("保活计时器")]),v._v("（2小时定时）")]),v._v(" "),s("p",[v._v("当保活计时器到时后，TCP服务器进程向客户进程发送一个探测报文段，以后则"),s("strong",[v._v("每隔75秒发送一次（第一次是2小时）连续10次客户进程无响应，说明客户进程出故障")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(729),alt:"image-20210912110543796"}})]),v._v(" "),s("p",[v._v("seq：对应自身")]),v._v(" "),s("p",[v._v("ack：对应对方")]),v._v(" "),s("p",[v._v("只有ACK，说明是普通的")]),v._v(" "),s("h2",{attrs:{id:"tcp报文段的首都格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp报文段的首都格式"}},[v._v("#")]),v._v(" TCP报文段的首都格式")]),v._v(" "),s("p",[v._v("TCP在发送数据时，"),s("strong",[v._v("添加一个首部使之成为TCP报文段")])]),v._v(" "),s("p",[v._v("TCP报文段由"),s("strong",[v._v("首部和数据载荷")]),v._v("两部分构成")]),v._v(" "),s("p",[v._v("TCP的"),s("strong",[v._v("全部功能")]),v._v("都体现在"),s("strong",[v._v("首部中各字段作用")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(730),alt:"image-20210912113044640"}})]),v._v(" "),s("p",[v._v("1、序号："),s("strong",[v._v("指出TCP报文段数据载荷的第一个字节的序号")])]),v._v(" "),s("p",[v._v("2、确认号：例若确认号=n，表示"),s("strong",[v._v("n-1之前的所有数据已正确接收")]),v._v("，"),s("strong",[v._v("期望接收序号从n开始的数据")])]),v._v(" "),s("p",[v._v("3、确认标志位ACK：在"),s("strong",[v._v("连接建立后")]),v._v("所有传送的TCP报文段都"),s("strong",[v._v("必须把ACK的值设为1")])]),v._v(" "),s("p",[v._v("4、数据偏移：占4比特，以4字节为单位，指出"),s("strong",[v._v("数据载荷部分")]),v._v("开始处"),s("strong",[v._v("距离TCP报文段的开始处有多远")]),v._v("，差一个首部距离，即计算的时首部的长度")]),v._v(" "),s("p",[v._v("首部最大长度，1111"),s("em",[v._v("4=15 * 4=60，最小：0101")]),v._v("4=5 * 4=20")]),v._v(" "),s("p",[v._v("5、窗口：占16比特，"),s("strong",[v._v("接收窗口的大小")])]),v._v(" "),s("p",[v._v("6、校验和：占16比特，"),s("strong",[v._v("检查范围包括首部和数值载荷，校验时加上12字节的伪首部")])]),v._v(" "),s("p",[v._v("7、复位标志位RST：复位TCP连接，RST=1："),s("strong",[v._v("连接异常，释放后重新连接；还有一种可能是拒绝非法的报文段或打开一个TCP连接")])]),v._v(" "),s("p",[v._v("8、"),s("strong",[v._v("推送标志位PSH")]),v._v("：值为1，"),s("strong",[v._v("尽快上交应用进程，不必等到接收缓存填满再上交")])]),v._v(" "),s("p",[v._v("9、紧急标志位URG：值为1开启，当发送方有紧急数据时，把紧急数据插队到发送缓存最前面，并立即发送")]),v._v(" "),s("p",[v._v("10、紧急指针：占16比特，"),s("strong",[v._v("用来指明紧急数据的长度，而紧急数据之后是普通数据")])]),v._v(" "),s("p",[v._v("11、选项：最大报文段长度MSS（数据载荷最大长度）；窗口扩大选项（扩大窗口，提高吞吐率）；时间戳（计算往返时间）")]),v._v(" "),s("h1",{attrs:{id:"第六章-应用层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第六章-应用层"}},[v._v("#")]),v._v(" 第六章 应用层")]),v._v(" "),s("h2",{attrs:{id:"应用层的概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用层的概述"}},[v._v("#")]),v._v(" 应用层的概述")]),v._v(" "),s("p",[v._v("解决通过"),s("strong",[v._v("应用进程的交互来实现特定网络应用的问题")])]),v._v(" "),s("p",[v._v("域名（www.baidu.com）===>IP地址（218.75.230.30）通过"),s("strong",[v._v("域名系统DNS来实现")])]),v._v(" "),s("p",[v._v("学习网络应用的原理、协议和实现方面的知识，通过以下例子：")]),v._v(" "),s("p",[v._v("万维网WWW\t域名系统DNS\t动态主机配置协议DHCP\t电子邮件\t文件传送协议FTP")]),v._v(" "),s("p",[v._v("P2P文件共享\t多媒体网络应用")]),v._v(" "),s("h2",{attrs:{id:"客户-服务器方式-c-s方式-和对等方式-p2p方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户-服务器方式-c-s方式-和对等方式-p2p方式"}},[v._v("#")]),v._v(" 客户/服务器方式（C/S方式）和对等方式（P2P方式）")]),v._v(" "),s("p",[v._v("开发一种新的网络应用首先考虑的是："),s("strong",[v._v("网络应用程序")]),v._v("在"),s("strong",[v._v("各种端系统")]),v._v("上的组织方式和它们之间的关系")]),v._v(" "),s("p",[v._v("目前流行：客户/服务器方式（Client/Server，C/S方式）；对等（Peer-to-Peer，P2P）方式")]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[v._v("客户/服务器方式（Client/Server，C/S方式）")]),v._v(" "),s("th",{staticStyle:{"text-align":"center"}},[v._v("对等（Peer-to-Peer，P2P）方式")])])]),v._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("客户是"),s("strong",[v._v("服务请求方")]),v._v("，服务器是"),s("strong",[v._v("服务提供方")])]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("没有固定的服务请求者和服务提供者")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("服务器"),s("strong",[v._v("总是处于运行状态，具有固定端口号")]),v._v("，HTTP默认为80")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}})]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("万维网WWW、电子邮件、文件传输FTP")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("P2P文件共享、即时通信、P2P流媒体、分布式存储")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("服务集中型，服务器少")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("服务分散型，可扩展性强，系统增加一个对等方，增加不仅是服务的请求者，还是服务的提供者，"),s("strong",[v._v("系统性能不会因规模的增大而降低")])])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("常用计算机群集（服务器场）"),s("strong",[v._v("构建一个强大的虚拟服务器")])]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("成本低，不需要庞大的服务器设施")])])])]),v._v(" "),s("h2",{attrs:{id:"动态主机配置协议dhcp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态主机配置协议dhcp"}},[v._v("#")]),v._v(" 动态主机配置协议DHCP")]),v._v(" "),s("p",[v._v("通过DHCP"),s("strong",[v._v("自动获取网络配置信息")]),v._v("，"),s("strong",[v._v("即插即用连网")]),v._v("，允许一台计算机加入"),s("strong",[v._v("新网络时可自动获取IP地址等网络配置信息而不用手工参与")])]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("DHCP的工作过程：")]),v._v(" "),s("p",[v._v("运输层使用UDP协议封装：DHCP客户使用的"),s("strong",[v._v("UDP端口号为68，服务器为67")]),v._v("，DCHP客户"),s("strong",[v._v("未获取到IP地址")]),v._v("时使用地址"),s("strong",[v._v("0.0.0.0")])]),v._v(" "),s("p",[v._v("1、寻找DHCP服务器（DISCOVER）：广播")]),v._v(" "),s("p",[v._v("2、服务器提供IP地址租用（OFFER）：广播发送，"),s("strong",[v._v("服务器")]),v._v("使用"),s("strong",[v._v("ARP确保所选IP地址未被")]),v._v("网络中其他主机"),s("strong",[v._v("使用")])]),v._v(" "),s("p",[v._v("3、接受IP地址租约（REQUEST）：广播，其中包括"),s("strong",[v._v("事务ID，DHCP客户端的MAC地址，接受租约中的IP地址，提供此租约的DHCP服务器端的IP地址")])]),v._v(" "),s("p",[v._v("4、服务器确认IP地址租约（ACK）：广播，"),s("strong",[v._v("客户使用ARP检查IP地址")]),v._v("是否被其他主机使用")]),v._v(" "),s("p",[v._v("5、IP地址续约：到0.5租用期时，客户发送续约请求，同意则继续使用，不同意则发送DISCOVER（寻找）")]),v._v(" "),s("p",[v._v("6、随时解除IP地址租约（RELEASE）：客户立即停止使用")]),v._v(" "),s("p",[s("img",{attrs:{src:t(731),alt:"image-20210912153520655"}})]),v._v(" "),s("p",[v._v("DHCP"),s("strong",[v._v("中继代理")]),v._v("：给"),s("strong",[v._v("路由器配置DHCP服务器的IP地址")]),v._v("，使之成为DCHP中继代理，作为"),s("strong",[v._v("各网络中计算机与DHCP服务器的桥梁")]),v._v("，减少DHCP服务器的数量")]),v._v(" "),s("h2",{attrs:{id:"域名系统dns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#域名系统dns"}},[v._v("#")]),v._v(" 域名系统DNS")]),v._v(" "),s("p",[v._v("因特网采用"),s("strong",[v._v("层次结构的命名树作为主机的名字（即域名）")]),v._v("，"),s("strong",[v._v("DNS大多数域名都在本地解析")]),v._v("，系统效率高，DNS是"),s("strong",[v._v("分布式系统")]),v._v("，单个计算机出了故障不影响其他")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("层次树状结构的域名结构：")]),v._v(" "),s("p",[v._v("各分量之间用**“点”隔开**，代表不同级别的域名，"),s("strong",[v._v("级别最高的顶级域名写在最右边")])]),v._v(" "),s("p",[v._v("顶级域名TLD分为三类：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("国家顶级域名nTLD")]),v._v("：采用ISO 3166的规定，如：cn表示中国，us美国")]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("通用顶级域名gTLD")]),v._v("：最常见的通用有7个，即：com（公司）、net（网络服务机构）、org（非营利性组织）、"),s("strong",[v._v("int（国际组织）")]),v._v("、edu（美国教育机构）、gov（美国政府部门）、"),s("strong",[v._v("mil（美国军事部门）")])]),v._v(" "),s("p",[v._v("3、反向域aepq：即IP地址反向解析为域名")]),v._v(" "),s("p",[v._v("国家顶级"),s("strong",[v._v("域名下注册的二级域名均由该国家自行确定")]),v._v("，我国二级域名划分为两类："),s("strong",[v._v("类别")]),v._v("域名和"),s("strong",[v._v("行政区")]),v._v("域名，二级和顶级可能相同，不过没影响")]),v._v(" "),s("p",[v._v("这种按等级管理的命名方法"),s("strong",[v._v("便于名字的唯一性、也容易设计查找方法")])]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("DNS使用分布在"),s("strong",[v._v("各地的域名服务器来实现域名到IP地址的转换")])]),v._v(" "),s("p",[v._v("域名服务器划分为以下四种类型：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("根域名")]),v._v("服务器（代理）：服务器群集，根域名服务器通常"),s("strong",[v._v("并不直接对域名进行解析")]),v._v("，而是"),s("strong",[v._v("返回该域名所属顶级域名服务器的IP地址")])]),v._v(" "),s("p",[v._v("2、"),s("strong",[v._v("顶级域名")]),v._v("服务器：管理在该"),s("strong",[v._v("顶级域名服务器注册的所有二级域名")]),v._v("，返回结果可能是（需要的，也可能是下一级"),s("strong",[v._v("权限域名")]),v._v("服务器的IP地址）")]),v._v(" "),s("p",[v._v("3、权限域名服务器：管"),s("strong",[v._v("理某个区的域名")]),v._v("，每一个主机的域名都必须在"),s("strong",[v._v("某个权限域名服务器注册登记")]),v._v("，知道域名与IP地址的映射关系")]),v._v(" "),s("p",[v._v("4、本地域名服务器（代理）：报文首先送到该主机的本地域名服务器，"),s("strong",[v._v("本地域名服务器的IP地址")]),v._v("需要"),s("strong",[v._v("直接配置在需要域名解析的主机")]),v._v("中")]),v._v(" "),s("p",[v._v("域名解析的过程：递归查询和迭代查询")]),v._v(" "),s("p",[v._v("通常采用以下模式：从"),s("strong",[v._v("请求主机到本地域名服务器的查询是递归查询，而其余查询是迭代")])]),v._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:t(732),alt:"image-20210912170823813"}}),v._v(" "),s("p",[v._v("为了提高"),s("strong",[v._v("DNS的查询效率")]),v._v("：域名服务器使用了"),s("strong",[v._v("高速缓存")]),v._v("，存放最近"),s("strong",[v._v("查询过的域名以及从何处获得域名映射信息的记录")])]),v._v(" "),s("p",[v._v("【2016年 题40】假设所有域名服务器均采用迭代查询方式进行域名解析，当H4访问规范域名为www.abc.xyz.com的网站时，域名服务器201.1.1.1在完成该域名解析过程中，可能发出DNS查询的最少和最多次数分别是（）")]),v._v(" "),s("p",[v._v("A、0，3\t\t\t\t\t\tB、1，3\t\t\t\t\t\t\tC、0，4\t\t\t\t\t\tD、1，4")]),v._v(" "),s("p",[v._v("答案：C；"),s("strong",[v._v("高速缓存有该域名的DNS信息")]),v._v("，不需要查询任何服务器；4次DNS查询")]),v._v(" "),s("p",[v._v("根域名服务器，顶级域名服务器（.com），权限域名服务器（xyz.com）、权限域名服务器（abc.xyz.com）")]),v._v(" "),s("h2",{attrs:{id:"文件传送协议ftp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件传送协议ftp"}},[v._v("#")]),v._v(" 文件传送协议FTP")]),v._v(" "),s("p",[v._v("FTP提供"),s("strong",[v._v("交换式的访问")]),v._v("：允许客户"),s("strong",[v._v("指明文件的类型和格式")]),v._v("（ASCII），允许"),s("strong",[v._v("文件具有存取权限")]),v._v("（访问文件要授权）")]),v._v(" "),s("p",[v._v("文件传送协议FTP的"),s("strong",[v._v("应用：")])]),v._v(" "),s("p",[v._v("1、计算机之间传输文件，尤其是"),s("strong",[v._v("批量传输文件")])]),v._v(" "),s("p",[v._v("2、让网站设计者将"),s("strong",[v._v("构成网站内容")]),v._v("的大量文件批量"),s("strong",[v._v("上传到他们的web服务器")])]),v._v(" "),s("p",[v._v("FTP的基本工作原理：")]),v._v(" "),s("p",[v._v("控制连接：会话期间"),s("strong",[v._v("一直打开")]),v._v("，传送FTP相关"),s("strong",[v._v("控制命令")])]),v._v(" "),s("p",[v._v("数据连接："),s("strong",[v._v("每次文件传输时才建立，传输结束就关闭")])]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[v._v("主动模式")]),v._v(" "),s("th",{staticStyle:{"text-align":"center"}},[v._v("被动模式")])])]),v._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("FTP"),s("strong",[v._v("客户")]),v._v("发起"),s("strong",[v._v("TCP连接")])]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("FTP客户发起TCP连接")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("FTP"),s("strong",[v._v("服务器")]),v._v("发起TCP连接（服务器和"),s("strong",[v._v("客户的临时端口号")]),v._v("建立连接，即数据通道）")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("FTP"),s("strong",[v._v("客户")]),v._v("发起TCP连接（"),s("strong",[v._v("服务器开启临时端口号")]),v._v("被动等待TCP连接，即建立数据通道）")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("服务器主动连接客户")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("服务器被动等待客户的连接")])])])]),v._v(" "),s("p",[s("img",{attrs:{src:t(733),alt:"image-20210912203751584"}})]),v._v(" "),s("p",[v._v("【2017年 题40】下列关于FTP协议的叙述中，错误的是（）")]),v._v(" "),s("p",[v._v("A、数据连接在每次数据传输完毕后就关闭")]),v._v(" "),s("p",[v._v("B、控制连接在整个会话期间保持打开状态")]),v._v(" "),s("p",[v._v("C、服务器与客户端的TCP "),s("strong",[v._v("20端口建立数据连接")])]),v._v(" "),s("p",[v._v("D、客户端与服务器的TCP "),s("strong",[v._v("21端口建立控制连接")])]),v._v(" "),s("p",[v._v("答案：C；默认情况下，C和D是对的，但是，"),s("strong",[v._v("建立数据连接和传输模式有关，主动是20端口")]),v._v("，"),s("strong",[v._v("被动")]),v._v("是客户端和服务器自行协商")]),v._v(" "),s("h2",{attrs:{id:"电子邮件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#电子邮件"}},[v._v("#")]),v._v(" 电子邮件")]),v._v(" "),s("p",[v._v("电子邮件系统采用==客户/服务器方式==，它的三个主要组成构件：")]),v._v(" "),s("p",[v._v("1、用户代理：也称为电子邮件客户端软件")]),v._v(" "),s("p",[v._v("2、邮件服务器（基础）："),s("strong",[v._v("发送和接收邮件，同时负责维护用户的邮箱")])]),v._v(" "),s("p",[v._v("3、协议："),s("strong",[v._v("发送协议（SMTP）和读取协议（POP3，IMAP）")])]),v._v(" "),s("p",[v._v("简单邮件传送协议SMTP：端口号25，"),s("strong",[v._v("只能传送ASCII码")]),v._v("文本；"),s("strong",[v._v("用户代理向服务器")]),v._v("以及"),s("strong",[v._v("服务器之间")]),v._v("的传送")]),v._v(" "),s("p",[v._v("解决不能传送ASCII码文本问题，使用==多用途因特网邮件扩展MIME==")]),v._v(" "),s("p",[v._v("常见的邮件读取协议：")]),v._v(" "),s("p",[v._v("1、邮件协议==POP3==：不允许用户在邮件服务器上管理自己的邮件，"),s("strong",[v._v("端口110")])]),v._v(" "),s("p",[v._v("2、因特网邮件访问协议==IMAP==：用户在自己的计算机上就可以操控服务器中的邮箱，"),s("strong",[v._v("端口143")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(734),alt:"image-20210912211704085"}})]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("简单邮件传送协议SMTP的基本工作原理：")]),v._v(" "),s("p",[v._v("发送方邮件服务器（SMTP客户）----------------------------------------接收方邮件服务器（SMTP服务器）")]),v._v(" "),s("p",[v._v("若接收方准备好接收，==发回应答354，其他应答250==")]),v._v(" "),s("p",[s("img",{attrs:{src:t(735),alt:"image-20210912213134175"}})]),v._v(" "),s("p",[v._v("一个电子邮件有==信封和内容==两部分，而==内容有首部和主体==构成")]),v._v(" "),s("p",[s("img",{attrs:{src:t(736),alt:"image-20210912213630283"}})]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("基于==万维网的电子邮件==：通过浏览器==登录==邮件服务器万维网网站就可以操控邮件，==和IMAP类似==，"),s("strong",[v._v("不同的是")]),v._v("用户计算机"),s("strong",[v._v("无需安装专门的用户代理程序（即软件）")]),v._v("，只需在浏览器即可")]),v._v(" "),s("h2",{attrs:{id:"万维网www"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#万维网www"}},[v._v("#")]),v._v(" 万维网WWW")]),v._v(" "),s("p",[v._v("万维网WWW是运行在因特网上的一个==分布式应用==，使用"),s("strong",[v._v("统一资源定位符URL")]),v._v("来指明因特网上"),s("strong",[v._v("任何种类资源的位置")])]),v._v(" "),s("p",[v._v("UR了："),s("strong",[v._v("协议：//主机：端口/路径")])]),v._v(" "),s("p",[v._v("http:www.baidu.com:80/ggtz/11132.html")]),v._v(" "),s("p",[v._v("浏览器最重要是==浏览器内核==，即渲染引擎，==负责对网页内容进行解析和显示==")]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("万维网的文档：")]),v._v(" "),s("p",[v._v("HTMl（==超文本标记语言==）：描述网页的==结构和内容==")]),v._v(" "),s("p",[v._v("CSS：网页的==样式==")]),v._v(" "),s("p",[v._v("JavaScript：网页的==行为==")]),v._v(" "),s("hr"),v._v(" "),s("p",[s("strong",[v._v("超文本传输协议HTTP")]),v._v("：即"),s("strong",[v._v("浏览器向服务器")]),v._v("请求万维网文档，而"),s("strong",[v._v("服务器怎么把文档传送给浏览器")])]),v._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[v._v("HTTP/1.0")]),v._v(" "),s("th",{staticStyle:{"text-align":"center"}},[v._v("HTTP/1.1")])])]),v._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("非持续连接")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("持续连接")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("每一次请求都要建立TCP连接，消耗两个RTT")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("==保持连接==，只是一开始消耗两个RTT")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[v._v("负担重")]),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[v._v("如果是流水线，那么后序请求只消耗一个RTT，不管多少个请求，而非流水线，一个请求消耗一个RTT")])]),v._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}}),v._v(" "),s("td",{staticStyle:{"text-align":"center"}},[s("strong",[v._v("流水线：一个请求还没到，另一个请求接着发")]),v._v("；而"),s("strong",[v._v("非流水是等请求到再发另一个")])])])])]),v._v(" "),s("p",[v._v("HTTP的报文格式："),s("strong",[v._v("面向文本")]),v._v("，其中每一个字段都是一些==ASCII码串==")]),v._v(" "),s("p",[v._v("请求行：==GET\t /index.htm\t  HTTP/1.1 \t指明方法GET，URL，HTTP版本==")]),v._v(" "),s("p",[s("img",{attrs:{src:t(737),alt:"image-20210913212717661"}})]),v._v(" "),s("hr"),v._v(" "),s("p",[v._v("使用Cookie记录用户信息：是一种对==无状态==（静态文档）的HTTP转变为==状态化==的技术")]),v._v(" "),s("p",[v._v("原理：")]),v._v(" "),s("p",[v._v("1、"),s("strong",[v._v("服务器为客户")]),v._v("生成一个==唯一的Cooked识别码==，记录该用户==访问该网站的各种信息==")]),v._v(" "),s("p",[v._v("2、下次访问时，==服务器根据Cookie识别码==就可以识别出该用户，并"),s("strong",[v._v("返回该用户的个性化网页")])]),v._v(" "),s("p",[s("img",{attrs:{src:t(738),alt:"image-20210913213549373"}})]),v._v(" "),s("p",[v._v("万维网缓存与代理服务器：")]),v._v(" "),s("p",[v._v("==万维网缓存又称为Web缓存==，可位于客户机，也可位于中间系统上，"),s("strong",[v._v("位于中间系统也叫代理服务器")])]),v._v(" "),s("p",[v._v("缓存把最近一些请求和响应"),s("strong",[v._v("存在本地磁盘")]),v._v("中，请求是和缓存相同的，就返回该响应，不用URL去因特网访问资源")]),v._v(" "),s("p",[s("img",{attrs:{src:t(739),alt:"image-20210913213925170"}})]),v._v(" "),s("p",[v._v("【2011年 题47第（3）问】假设==HTTP1.1协议以持续的非流水线==方式工作，一次请求-响应的时间为RTT，rfc.html页面"),s("strong",[v._v("引用了2个JPEG小图像")]),v._v("，则浏览器从开始建立TCP连接到收到全部内容为止，需要多少个RTT？")]),v._v(" "),s("p",[v._v("答案：4个，建立连接消耗两个，引用两个图像，而非流水线说明得消耗两个，")])])}),[],!1,null,null,null);_.default=r.exports}}]);